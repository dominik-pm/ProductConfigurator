(this["webpackJsonpconfigurator-frontend"]=this["webpackJsonpconfigurator-frontend"]||[]).push([[0],{250:function(e,n,t){"use strict";t.r(n),n.default=t.p+"static/media/notfound.b2542792.jpg"},251:function(e){e.exports=JSON.parse('{"AUTHENTICATION_FAILED":"Authentication Failed","groupErrorAtLeastOne":"At least one option has to be selected!","optionRequirementsNotMet":"Other options are required","optionHasIncompatibilities":"Not compatible with","NO_CONFIGURATION_FOUND":"no configuration found","CONFIGURATION_INVALID":"configuration invalid","productConfigurator":"Product Configurator","failedToLoadProducts":"Failed to load products!","loadingProducts":"Loading Products","noProductsFound":"No products found","invalidProductId":"Invalid Product Id","confirmationPrompt":"Confirmation Prompt","cancel":"cancel","confirm":"confirm","configureYour":"Configure your","failedToLoadConfiguration":"Failed to load configuration!","price":"price","basePrice":"Base Price","priceList":"price list","saveConfiguration":"Save Configuration","configurationName":"Configuration Name","resetConfiguration":"Reset Configuration","finishConfiguration":"Order Configuration","resetConfigurationPrompt":"Do you really want to reset your current configuration?","youWantToSelect":"You want to select","youWantToRemove":"You want to remove","youAlsoNeedToSelect":"You also need to select","theseOptionsWillBeRemoved":"These options will be removed","login":"Login","logout":"Logout","register":"Register","submit":"submit","savedConfiguration":"Saved configuration","successOrderedConfiguration":"Successfully ordered the configuration","passwordDontMatch":"Passwords do not match","successfullyRemoved":"Successfully removed","savedConfigurations":"Saved Configurations","orderedConfigurations":"Ordered Configurations","allOrderedConfigurations":"All Ordered Configurations","createConfiguration":"Create Configuration","createNewConfiguration":"Create a new Configuration","productProperties":"Product Properties","finishBuild":"Finish New Configuration","resetBuild":"Reset","resetBuildConfirmation":"Do you really want to reset this configuration?","removeModelConfirmation":"Do you really want to remove the model","removeSectionConfirmation":"Do you really want to remove the section","removeGroupConfirmation":"Do you really want to remove the option group","removeOptionConfigrmation":"Do you really want to remove the option","addSection":"Add Section","newSection":"New Section","removeSection":"Remove Section","addModel":"Add Model","addOption":"Add Option","addOptionGroup":"Add Optiongroup","newGroup":"New Group","newOption":"New Option","remove":"Remove","optionName":"Option Name","editOptionName":"Edit Option Name","optionDescription":"Option Description","editOptionDescription":"Edit Option Description","groupName":"Group Name","editGroupName":"Edit Group Name","groupDescription":"Group Description","editGroupDescription":"Edit Group Description","sectionName":"Section Name","editSectionName":"edit section name","models":"Models","defaultModel":"Default Model","modelName":"Model Name","editModelName":"Edit Model Name","modelDescription":"Model Description","editModelDescription":"Edit Model Description","options":"Options","description":"Description","requirements":"requirements","incompatibilities":"incompatibilities","optionPrice":"option price","required":"required","multiselect":"multiselect","edit":"Edit"}')},252:function(e){e.exports=JSON.parse('{"AUTHENTICATION_FAILED":"Authentifizierung Fehlgeschlagen","groupErrorAtLeastOne":"Mindestens eine Option muss ausgew\xe4hlt werden!","optionRequirementsNotMet":"Andere Optionen sind vorausgesetzt","optionHasIncompatibilities":"Nicht kompatibel mit","NO_CONFIGURATION_FOUND":"Keine Konfiguration gefunden","CONFIGURATION_INVALID":"Konfiguration enth\xe4lt Fehler","productConfigurator":"Produkt Konfigurator","failedToLoadProducts":"Failed to load products!","loadingProducts":"Loading Products","noProductsFound":"No products found","invalidProductId":"Product Id ung\xfcltig","confirmationPrompt":"\xdcberpr\xfcfen","cancel":"Abbrechen","confirm":"Best\xe4tigen","configureYour":"Konfiguriere dein","failedToLoadConfiguration":"Laden der Konfiguration fehlgeschlagen!","price":"Preis","basePrice":"Grundpreis","priceList":"Preis Liste","saveConfiguration":"Konfiguration Speichern","configurationName":"Name der Konfiguration","resetConfiguration":"Konfiguration Zur\xfccksetzen","finishConfiguration":"Konfiguration Bestellen","resetConfigurationPrompt":"M\xf6chtest du wirklich die Konfiguration zur\xfccksetzen?","youWantToSelect":"Du m\xf6chtest diese Option ausw\xe4hlen","youWantToRemove":"Du m\xf6chtest diese Option entfernen","youAlsoNeedToSelect":"Dazu ben\xf6tigst du au\xdferdem","theseOptionsWillBeRemoved":"Dazu m\xfcssen diese Optionen entfernt werden","login":"Einloggen","logout":"Ausloggen","register":"Registrieren","submit":"Best\xe4tigen","savedConfiguration":"Konfiguration gespeichert","successOrderedConfiguration":"Individuelle Konfiguration wurde bestellt","passwordDontMatch":"Passw\xf6rter sind unterschiedlich","successfullyRemoved":"Erfolgreich gel\xf6scht","savedConfigurations":"Gespeicherte Konfigurationen","orderedConfigurations":"Bestellte Konfigurationen","allOrderedConfigurations":"Alle bestellten Konfigurationen","createConfiguration":"Konfiguration erstellen","createNewConfiguration":"Neue Konfiguration erstellen","productProperties":"Produkt Eigenschaften","finishBuild":"Neue Konfiguration fertigstellen","resetBuild":"Zur\xfccksetzen","resetBuildConfirmation":"Wollen Sie diese Konfiguration wirklich zur\xfccksetzen?","removeModelConfirmation":"Wollen Sie dieses Modell wirklich l\xf6schen","removeSectionConfirmation":"Wolle Sie diesen Bereich wirklich l\xf6schen","removeGroupConfirmation":"Wollen Sie die Optionsgruppe wirklich entfernen","removeOptionConfigrmation":"Wollen Sie die Option wirklich entfernen","addSection":"Bereich hinzuf\xfcgen","newSection":"Neuer Bereich","removeSection":"Bereich l\xf6schen","addModel":"Modell hinzuf\xfcgen","addOption":"Option hinzuf\xfcgen","addOptionGroup":"Optionsgruppe hinzuf\xfcgen","newGroup":"Neue Gruppe","newOption":"Neue Option","remove":"L\xf6schen","optionName":"Optionsname","editOptionName":"Optionsname bearbeiten","optionDescription":"Optionsbeschreibung","editOptionDescription":"Optionsbeschreibung bearbeiten","groupName":"Gruppenname","editGroupName":"Gruppenname bearbeiten","groupDescription":"Gruppenbeschreibung","editGroupDescription":"Gruppenbeschreibung bearbeiten","sectionName":"Bereichsname","editSectionName":"Bereichsname bearbeiten","models":"Modelle","defaultModel":"Standardmodell","modelName":"Modellname","editModelName":"Modellname bearbeiten","modelDescription":"Modellbeschreibung","editModelDescription":"Modellbeschreibung bearbeiten","options":"Optionen","description":"Beschriebung","requirements":"Voraussetzungen","incompatibilities":"Inkompatibilit\xe4ten","optionPrice":"Optionspreis","required":"Erforderlich","multiselect":"Multiselect","edit":"Bearbeiten"}')},253:function(e){e.exports=JSON.parse('{"AUTHENTICATION_FAILED":"\xc9chec de l\'authentification","groupErrorAtLeastOne":"Il faut choisir au moins une option !","optionRequirementsNotMet":"D\'autres options sont n\xe9cessaires","optionHasIncompatibilities":"Non compatible avec","NO_CONFIGURATION_FOUND":"aucune configuration trouv\xe9e","CONFIGURATION_INVALID":"aucune configuration trouv\xe9e","productConfigurator":"Configurateur de Produit","failedToLoadProducts":"\xc9chec du chargement des produits!","loadingProducts":"Produits de chargement","noProductsFound":"Aucun produit trouv\xe9","confirmationPrompt":"demande de confirmation","cancel":"annuler","confirm":"confirmer","configureYour":"Configurer votre","failedToLoadConfiguration":"\xc9chec du chargement de la configuration!","price":"prix","priceList":"liste de prix","youWantToSelect":"Vous voulez s\xe9lectionner","youWantToRemove":"Vous voulez supprimer","youAlsoNeedToSelect":"Vous devez \xe9galement s\xe9lectionner","theseOptionsWillBeRemoved":"Ces options seront supprim\xe9es"}')},311:function(e,n){},313:function(e,n){},328:function(e,n){},330:function(e,n){},358:function(e,n){},360:function(e,n){},361:function(e,n){},366:function(e,n){},368:function(e,n){},374:function(e,n){},376:function(e,n){},395:function(e,n){},407:function(e,n){},410:function(e,n){},440:function(e,n,t){},441:function(e,n,t){},443:function(e,n,t){var i={"./Computer0.jpg":444,"./Watch0.jpg":445,"./notfound.jpg":250,"./vw-golf-r-2021--.jpg":446};function o(e){var n=r(e);return t(n)}function r(e){if(!t.o(i,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=443},444:function(e,n,t){"use strict";t.r(n),n.default=t.p+"static/media/Computer0.e2b016a9.jpg"},445:function(e,n,t){"use strict";t.r(n),n.default=t.p+"static/media/Watch0.e6eda55c.jpg"},446:function(e,n,t){"use strict";t.r(n),n.default=t.p+"static/media/vw-golf-r-2021--.b97934f0.jpg"},447:function(e,n,t){"use strict";t.r(n);var i=t(1),o=t.n(i),r=t(53),a=t.n(r),c=t(65),u=t(18),s=t(532),l=t(560),d=t(108),f=t(11),p=t(536),g=t(522),j=t(546),b=t(547),m=t(548),O=t(537),h=t(538),v=t(501),x=t(503),C=t(504),I=t(505),y=t(495),w=t(541),N=t(530),S=t(523),D=t(535),P=t(14),G=t(251),k=t(252),M=t(253),A={EN:"en",DE:"de",FR:"fr"},L=A.EN,R={en:G,de:k,fr:M},T=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,t=R[n];if(t){var i=t[e];return i||(R[L][e]?R[L][e]:e)}console.log("Trying to translate ".concat(e," to a language that doesn't exist: '").concat(n,"'"))},B=function(e){return e.language.language},E=t(32),q=t(35),F=t.n(q),W="https://localhost:7187";F.a.defaults.timeout=5e3;var z=function(e){e?F.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete F.a.defaults.headers.common.Authorization},V={language:L},U=Object(E.b)({name:"language",initialState:V,reducers:{changedLanguage:function(e,n){console.log("Changed language to: "+n.payload),e.language=n.payload}}}),K=function(e){return function(n){Object.values(A).includes(e)||(console.log("language '".concat(e,"' does not exist!")),e=L),localStorage.setItem("language",e),function(e){e?F.a.defaults.headers.common["Accept-Language"]=e:delete F.a.defaults.headers.common["Accept-Language"]}(e),n(_(e))}},_=U.actions.changedLanguage,J=U.reducer,H=t(0);var Y={setLanguage:K},Z=Object(P.b)((function(e){return{language:B(e)}}),Y)((function(e){var n=e.language,t=e.setLanguage;return Object(H.jsx)(y.a,{sx:{minWidth:120},children:Object(H.jsxs)(w.a,{variant:"standard",fullWidth:!0,children:[Object(H.jsx)(N.a,{id:"select-lang-label",children:"Language"}),Object(H.jsxs)(S.a,{labelId:"select-lang-label",value:n,autoWidth:!0,label:"Lang",onChange:function(e){t(e.target.value)},children:[Object(H.jsx)(D.a,{value:A.EN,children:"English"}),Object(H.jsx)(D.a,{value:A.DE,children:"Deutsch"}),Object(H.jsx)(D.a,{value:A.FR,children:"Fran\xe7ais"})]})]})})})),X=function(e){return e.user.isAuthenticated},Q=function(e){return e.user.user.admin||!1},$=function(e){return oe(e).userName||""},ee=function(e){return oe(e).userEmail||""},ne=function(e){return e.user.savedConfigurations},te=function(e){return e.user.orderedConfigurations},ie=function(e){return e.user.allOrderedConfigurations},oe=function(e){return e.user.user},re=t(31),ae=t.n(re),ce=t(45),ue=t(127),se=t.n(ue),le=function(e,n){return function(e,n){return new Promise((function(n,t){"admin"!==e&&"user"!==e&&t("INVALID CREDENTIALS"),setTimeout((function(){var t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InRlc3R1c2VyIiwidXNlckVtYWlsIjoidGVzdHVzZXJAdGVzdC1mdWNocy5jb20iLCJhZG1pbiI6ZmFsc2UsImlhdCI6MTYxNzQ0OTAyMn0.mNE0pAsXlfADoB9xvvPbyOqo4cO_nPJa2aCrUIeXMRY";"admin"===e&&(t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6ImFkbWluIiwidXNlckVtYWlsIjoiY29uZmlndXJhdG9yLWFkbWluQHRlc3QtZnVjaHMuY29tIiwiYWRtaW4iOnRydWUsImlhdCI6MTYxNzQ0OTAyMn0.c3_WbsSenWEZTfCnesqIOz1067u2xL1FoE_efepoaBI");var i=se.a.decode(t);n({token:t,user:i})}),250)}))}(e)};var de="closed",fe="open",pe="error",ge="success",je={status:de,alerts:[]},be=Object(E.b)({name:"alert",initialState:je,reducers:{addAlert:function(e,n){e.status=fe,e.alerts.push(n.payload)},closeAlert:function(e){e.alerts.shift(),0===e.alerts.length&&(e.status=de)}}}),me=function(e,n){return function(){var t=Object(ce.a)(ae.a.mark((function t(i){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i(he({message:e,type:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Oe=be.actions,he=Oe.addAlert,ve=Oe.closeAlert,xe=be.reducer,Ce=Object(E.b)({name:"user",initialState:{isAuthenticated:!1,user:{},savedConfigurations:[],orderedConfigurations:[],allOrderedConfigurations:[]},reducers:{setCurrentUser:function(e,n){console.log("getting user:",n.payload),e.user=n.payload,Object.keys(n.payload).length>0?e.isAuthenticated=!0:(e.isAuthenticated=!1,e.savedConfigurations=[],e.orderedConfigurations=[],e.allOrderedConfigurations=[])},setSavedConfigurations:function(e,n){console.log("setting saved configurations:",n.payload),e.savedConfigurations=n.payload},setOrderedConfigurations:function(e,n){console.log("setting ordered configurations:",n.payload),e.orderedConfigurations=n.payload},setAllOrderedConfigurations:function(e,n){e.allOrderedConfigurations=n.payload}}}),Ie=Ce.actions,ye=Ie.setCurrentUser,we=Ie.setSavedConfigurations,Ne=Ie.setOrderedConfigurations,Se=Ie.setAllOrderedConfigurations,De=Ce.reducer,Pe=function(e){return e.inputDialog.open},Ge=function(e){return e.inputDialog.data},ke=function(e){return e.inputDialog.headerMessage},Me=Object(E.b)({name:"inputDialog",initialState:{open:!1,headerMessage:"",data:{}},reducers:{show:function(e,n){var t=n.payload,i=t.headerMessage,o=t.data;e.headerMessage=i,e.data=o,e.open=!0},close:function(e,n){e.open=!1,e.headerMessage="",e.data={}},setData:function(e,n){e.data=n.payload}}}),Ae=null,Le=function(e,n,t){return function(i,o){Pe(o())?console.log("Input Dialog is already open!"):(Ae=t,i(Te({headerMessage:e,data:n})))}},Re=Me.actions,Te=Re.show,Be=Re.close,Ee=Re.setData,qe=Me.reducer,Fe=function(){return function(e){e(Le("Login",{username:{name:"Username",value:""},password:{name:"Password",value:"",isPassword:!0}},(function(n){var t;e((t=n.username.value,n.username.password,function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le(t).then((function(e){var t=e.token,i=e.user;localStorage.setItem("jwtToken",t),z(t),n(ye(i)),n(me("Logged In!",ge))})).catch((function(e){n(me(e,pe))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))})))}};var We={openLogin:Fe},ze=Object(P.b)((function(e){return{language:B(e)}}),We)((function(e){var n=e.openLogin,t=e.language,i=e.size,o=void 0===i?"small":i;return Object(H.jsx)(p.a,{size:o,variant:"contained",onClick:n,children:T("login",t)})}));var Ve={openInputDialog:Le,register:function(e,n,t){return function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise((function(e,n){n("Not implemented")})).then((function(e){n(me("Registered!",ge))})).catch((function(e){n(me(e,pe))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},openAlert:me},Ue=Object(P.b)((function(e){return{language:B(e)}}),Ve)((function(e){var n=e.openInputDialog,t=e.register,i=e.openAlert,o=e.language,r=e.size,a=void 0===r?"small":r;return Object(H.jsx)(p.a,{size:a,variant:"contained",onClick:function(){n("Register",{username:{name:"Username",value:""},email:{name:"Email",value:"",isEmail:!0},password:{name:"Password",value:"",isPassword:!0},confirmPassword:{name:"Confirm Password",value:"",isPassword:!0}},(function(e){e.confirmPassword.value===e.password.value?t(e.username.value,e.email.value,e.username.password):i("".concat(T("passwordDontMatch",o),"!"),pe)}))},children:T("register",o)})}));var Ke={openInputDialog:Le,logout:function(){return function(e){localStorage.removeItem("jwtToken"),z(!1),e(ye({}))}}},_e=Object(P.b)((function(e){return{language:B(e),isLoggedIn:X(e),isAdmin:Q(e),username:$(e)}}),Ke)((function(e){var n=e.language,t=e.isLoggedIn,o=e.isAdmin,r=e.username,a=e.logout,c=Object(u.f)(),s=Object(i.useState)(!1),l=Object(f.a)(s,2),w=l[0],N=l[1],S=Object(i.useState)(!1),D=Object(f.a)(S,2),P=D[0],G=D[1];Object(i.useEffect)((function(){var e=function(){return window.innerWidth<900?G(!0):G(!1)};return e(),window.addEventListener("resize",(function(){return e()})),function(){window.removeEventListener("resize",(function(){return e()}))}}),[]);var k=Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(p.a,{size:"large",variant:"contained",startIcon:Object(H.jsx)(v.a,{}),onClick:function(){return c("/account")},children:Object(H.jsx)(d.a,{variant:"body1",sx:{maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis"},children:r})}),Object(H.jsx)(g.a,{title:T("logout",n),children:Object(H.jsx)(j.a,{size:"large",variant:"contained",onClick:function(){return a()},children:Object(H.jsx)(x.a,{})})})]}),M=Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(p.a,{size:"large",variant:"contained",onClick:function(){c("/create")},children:T("createConfiguration",n)})}),A=Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ze,{size:"large"}),Object(H.jsx)(Ue,{size:"large"})]}),L=Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(j.a,{onClick:function(){return c("/")},children:Object(H.jsx)(C.a,{sx:{color:"white"}})})});function R(){return Object(H.jsxs)(H.Fragment,{children:[o?M:"",t?k:A]})}function B(e){N(e)}return Object(H.jsx)("header",{children:Object(H.jsxs)(y.a,{sx:{flexGrow:1},children:[Object(H.jsx)(d.a,{align:"center",marginBottom:1,variant:"h1",children:T("productConfigurator",n)}),P?Object(H.jsx)(b.a,{position:"static",children:Object(H.jsxs)(m.a,{children:[Object(H.jsxs)(O.a,{container:!0,direction:"row",children:[Object(H.jsx)(j.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){return B(!0)},children:Object(H.jsx)(I.a,{fontSize:"large"})}),L,Object(H.jsx)(y.a,{sx:{flexGrow:1}}),Object(H.jsx)(Z,{})]}),Object(H.jsx)(h.a,{anchor:"top",open:w,onClose:function(){return B(!1)},children:Object(H.jsx)(O.a,{container:!0,direction:"column",padding:5,gap:2,children:R()})})]})}):Object(H.jsx)(b.a,{position:"static",children:Object(H.jsx)(m.a,{variant:"regular",children:Object(H.jsxs)(O.a,{justifyContent:"flex-end",container:!0,gap:2,children:[L,Object(H.jsx)(Z,{}),Object(H.jsx)(y.a,{sx:{flexGrow:1}}),R()]})})})]})})})),Je=t(550),He=t(552),Ye=t(551),Ze=t(549),Xe=t(506),Qe=function(e){return e.confirmation.open},$e=function(e){return e.confirmation.message},en=function(e){return e.confirmation.data},nn=Object(E.b)({name:"confirmation",initialState:{open:!1,message:"",data:{}},reducers:{show:function(e,n){var t=n.payload,i=t.message,o=t.data;e.open=!0,e.message=i,e.data=o},close:function(e,n){e.open=!1,e.message="",e.data={}}}}),tn=null,on=null,rn=function(e,n,t,i){return function(o,r){Qe(r())?console.log("Confirmation Dialog is already open!"):(tn=i,on=t,o(cn({message:e,data:n})))}},an=nn.actions,cn=an.show,un=an.close,sn=nn.reducer,ln=t(80),dn=t(79),fn=t(16),pn=t(26),gn="groupErrorAtLeastOne",jn="optionRequirementsNotMet",bn="optionHasIncompatibilities",mn=function(e,n){return n},On=function(e,n){return n},hn=function(e){return e.configuration.configuration.rules.incompatibilities},vn=function(e){return e.configuration.configuration.rules.requirements},xn=function(e){return e.configuration.status},Cn=function(e){return e.configuration.configuration.configId},In=function(e){var n;return(null===(n=e.configuration.configuration.rules)||void 0===n?void 0:n.basePrice)||0},yn=function(e){var n;return(null===(n=e.configuration.configuration.rules)||void 0===n?void 0:n.priceList)||[]},wn=function(e){var n;return(null===(n=e.configuration.configuration.rules)||void 0===n?void 0:n.defaultModel)||""},Nn=function(e){return e.configuration.selectedModel},Sn=function(e){var n;return(null===(n=e.configuration.configuration.rules)||void 0===n?void 0:n.models)||[]},Dn=function(e){return e.configuration.configuration.name},Pn=function(e){return e.configuration.configuration.description},Gn=function(e){return e.configuration.configuration.images},kn=function(e){return e.configuration.configuration.options},Mn=function(e){return e.configuration.configuration.optionGroups},An=function(e){return e.configuration.configuration.optionSections},Ln=function(e){return e.configuration.selectedOptions||[]},Rn=function(e){return e.name||""},Tn=function(e){return e.options||[]},Bn=Object(pn.a)([Sn,function(e,n){return n}],(function(e,n){var t=e.find((function(e){return e.name===n}));return console.log("model: ",t),console.log("model options: ",t.options),t?t.options:[]})),En=Object(pn.a)([function(e,n){return n},Mn,An],(function(e,n,t){var i=t.find((function(n){return n.id===e})),o=n.filter((function(e){return i.optionGroupIds.includes(e.id)})),r=[];return o.forEach((function(e){r.push.apply(r,Object(fn.a)(e.optionIds))})),r})),qn=Object(pn.a)([kn,On],(function(e,n){return e.find((function(e){return e.id===n}))})),Fn=Object(pn.a)([qn,On],(function(e,n){return e.name})),Wn=Object(pn.a)([Ln,On],(function(e,n){return e.includes(n)})),zn=Object(pn.a)([function(e){return e.configuration.configuration.rules.replacementGroups},On],(function(e,n){for(var t=0,i=Object.keys(e);t<i.length;t++){var o=e[i[t]];if(o.includes(n))return o}return null})),Vn=Object(pn.a)([hn,On],(function(e,n){return e[n]})),Un=Object(pn.a)([Ln,Vn],(function(e,n){if(!n)return[!0,null];var t=!0,i=[];return n.forEach((function(n){e.includes(n)&&(t=!1,i.push(n))})),[t,i]})),Kn=Object(pn.a)([vn,On],(function(e,n){return e[n]})),_n=Object(pn.a)([Ln,Kn],(function(e,n){if(!n)return[!0,null];var t=!0,i=[];return n.forEach((function(n){e.includes(n)||(t=!1,i.push(n))})),[t,i]})),Jn=Object(pn.a)([_n,Un],(function(e,n){return e[0]?n[0]?null:[bn,n[1]]:[jn,e[1]]})),Hn=Object(pn.a)([function(e){return e.configuration.configuration.rules.groupRequirements},mn],(function(e,n){var t=e[n];return t||[]})),Yn=Object(pn.a)([Mn,mn],(function(e,n){var t=e.find((function(e){return e.id===n}));return t||(console.log("Can not get is group valid because there is no group with the id"),null)})),Zn=Object(pn.a)([Yn,Hn,Mn,Ln],(function(e,n,t,i){if(!e.required)return null;var o=t.filter((function(e){return n.includes(e.id)})),r=!0;if(o.forEach((function(e){var n=!1;e.optionIds.forEach((function(e){i.includes(e)&&(n=!0)})),n||(r=!1)})),!r)return null;var a=!1;return e.optionIds.forEach((function(e){i.includes(e)&&(a=!0)})),a?null:gn})),Xn=Object(pn.a)([yn,On],(function(e,n){return e[n]})),Qn=Object(pn.a)([Ln,In,yn],(function(e,n,t){return e.reduce((function(e,n){return t[n]?e+t[n]:e}),n)})),$n=Object(pn.a)([Ln,On,vn],(function(e,n,t){var i=nt(n,t);return i=i.filter((function(n){return e.includes(n)}))})),et=Object(pn.a)([Ln,On,hn],(function(e,n,t){var i=nt(n,t);return i=i.filter((function(n){return e.includes(n)}))}));function nt(e){for(var n=[],t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];for(var r=0,a=i;r<a.length;r++){var c=a[r];for(var u in c)c[u].includes(e)&&n.push(u)}return n}var tt=Object(P.b)((function(e,n){var t=qn(e,n.optionId);return{name:t.name,description:t.description,image:t.image}}),{})((function(e){e.optionId;var n=e.highlight,t=e.name,i=(e.description,e.image,"none");return"add"===n&&(i=ln.a[500]),"remove"===n&&(i=dn.a[500]),Object(H.jsx)(y.a,{padding:1,margin:1,sx:{backgroundColor:i},children:Object(H.jsx)(d.a,{variant:"body1",children:t})})}));var it={cancel:function(){return function(e){e(un()),tn=null,on=null}},confirm:function(){return function(e,n){Qe(n())?(e(un()),tn?tn():console.log("no confirmation callback"),tn=null,on=null):console.log("Confirmation Dialog is closed (can not confirm)!")}}},ot=Object(P.b)((function(e){var n=B(e);return{content:on,message:$e(e),isOpen:Qe(e),selectedOption:en(e).selected,deselectedOption:en(e).deselected,optionsToSelect:en(e).optionsToSelect,optionsToRemove:en(e).optionsToRemove,text:{cancel:T("cancel",n),confirm:T("confirm",n),confirmationPrompt:T("confirmationPrompt",n),youWantToSelect:T("youWantToSelect",n),youWantToRemove:T("youWantToRemove",n),theseOptionsWillBeRemoved:T("theseOptionsWillBeRemoved",n),youAlsoNeedToSelect:T("youAlsoNeedToSelect",n)}}}),it)((function(e){var n=e.isOpen,t=e.message,i=e.content,o=e.optionsToSelect,r=e.optionsToRemove,a=e.selectedOption,c=e.deselectedOption,u=e.cancel,s=e.confirm,l=e.text;function f(){u()}function g(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.length>0?Object(H.jsxs)(y.a,{children:[Object(H.jsx)(d.a,{variant:"body1",children:"".concat(n?l.youAlsoNeedToSelect:l.theseOptionsWillBeRemoved,": ")}),Object(H.jsx)(O.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:e.map((function(e){return Object(H.jsx)(tt,{optionId:e,highlight:n?"add":"remove"},e)}))})]}):""}return o||(o=[]),r||(r=[]),Object(H.jsxs)(Je.a,{open:n,onClose:f,scroll:"paper","aria-labelledby":"responsive-dialog-title",fullWidth:!0,children:[Object(H.jsx)(Xe.a,{id:"responsive-dialog-title",children:l.confirmationPrompt}),Object(H.jsx)(Ye.a,{dividers:!0,children:o.length>0||r.length>0?Object(H.jsxs)("div",{children:[Object(H.jsx)(y.a,{marginBottom:2,children:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(d.a,{variant:"body1",children:"".concat(a?l.youWantToSelect:l.youWantToRemove,": ")}),Object(H.jsx)(O.a,{container:!0,justifyContent:"center",children:Object(H.jsx)(tt,{optionId:a||c,highlight:"add"})})]})}),g(o),g(r,!1)]}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Ze.a,{children:t}),i]})}),Object(H.jsxs)(He.a,{children:[Object(H.jsx)(p.a,{autoFocus:!0,onClick:f,children:l.cancel}),Object(H.jsx)(p.a,{autoFocus:!0,onClick:function(){s()},children:l.confirm})]})]})})),rt=t(3),at=t(20),ct=t(553),ut=t(527),st=t(531);var lt={cancel:function(){return function(e){e(Be()),Ae=null}},confirm:function(){return function(e,n){if(Pe(n())){if(Ae){var t=Ge(n());Ae(t)}else console.log("no confirmation callback");e(Be()),Ae=null}else console.log("Input Dialog is closed (can not confirm)!")}},setInputData:function(e){return function(n){n(Ee(e))}}},dt=Object(P.b)((function(e,n){var t=B(e);return{inputData:Ge(e),isOpen:Pe(e),dialogTitle:ke(e),text:{cancel:T("cancel",t),submit:T("submit",t)}}}),lt)((function(e){var n=e.isOpen,t=e.dialogTitle,o=e.inputData,r=e.cancel,a=e.confirm,c=e.setInputData,u=e.text,s=Object(i.useState)(Object(at.a)({},o)),l=Object(f.a)(s,2),d=l[0],g=l[1];function j(e,n){g((function(t){return Object(at.a)(Object(at.a)({},t),{},Object(rt.a)({},e,Object(at.a)(Object(at.a)({},t[e]),{},{value:n})))}))}function b(){r()}return Object(i.useEffect)((function(){g(Object(at.a)({},o))}),[o]),Object(H.jsx)("div",{children:Object(H.jsxs)(Je.a,{open:n,onClose:b,scroll:"paper","aria-labelledby":"responsive-dialog-title",children:[Object(H.jsx)(Xe.a,{id:"responsive-dialog-title",children:t}),Object(H.jsx)(Ye.a,{dividers:!0,children:0===Object.keys(d).length?Object(H.jsx)(H.Fragment,{}):Object(H.jsx)("form",{children:Object.keys(o).map((function(e,n){return function(e,n,t){var i=e[n];return i.isCheckBox?Object(H.jsx)(ct.a,{label:i.name,labelPlacement:"start",control:Object(H.jsx)(ut.a,{checked:d[n].value,onChange:function(e){j(n,!d[n].value)}})},t):Object(H.jsx)(st.a,{autoFocus:!0,autoComplete:o[n].isPassword?"current-password":"text",margin:"dense",label:o[n].name,type:o[n].isEmail?"email":o[n].isPassword?"password":"text",fullWidth:!0,variant:"standard",value:d[n].value,error:!d[n].value,onChange:function(e){return j(n,e.target.value)}},t)}(o,e,n)}))})}),Object(H.jsxs)(He.a,{children:[Object(H.jsx)(p.a,{autoFocus:!0,onClick:b,children:u.cancel}),Object(H.jsx)(p.a,{autoFocus:!0,onClick:function(){var e=!0;for(var n in d)d[n].value||d[n].isCheckBox||(e=!1);e&&(c(d),a())},children:u.submit})]})]})})})),ft=function(e){return e.alert.status===fe},pt=function(e){return e.alert.alerts[0]},gt=t(134),jt=t.n(gt);var bt={close:ve},mt=Object(P.b)((function(e){return{isOpen:ft(e),alert:pt(e)}}),bt)((function(e){var n=e.isOpen,t=e.alert,i=e.close,o=jt.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",jt.a.stopTimer),e.addEventListener("mouseleave",jt.a.resumeTimer)},didClose:function(){i()}});return Object(H.jsx)("div",{children:void(n&&t&&(o.isVisible()||o.fire({icon:t.type,title:t.message})))})})),Ot=t(539),ht=t(554),vt=function(e){return e.product.products},xt=function(e){return e.product.error},Ct=function(e){return e.product.status};function It(e){var n=e.product,t=Object(u.f)(),i=function(e){return e.configId}(n),o=function(e){return e.name}(n),r=function(e){return e.description}(n),a=function(e){return e.images}(n),c=Qr(a[0]);return Object(H.jsxs)(Ot.a,{sx:{width:"100%",":hover":{cursor:"pointer"}},onClick:function(){console.log("clicked on: ".concat(o," (id ").concat(i,")")),t("/configuration/".concat(i))},children:[Object(H.jsx)("img",{width:"100%",src:"".concat(c,"?w=248&fit=crop&auto=format"),srcSet:"".concat(c,"?w=248&fit=crop&auto=format&dpr=2 2x"),alt:o,loading:"lazy"}),Object(H.jsx)(ht.a,{title:o,subtitle:r})]},c)}var yt=function(){return new Promise((function(e,n){F.a.get("".concat(W,"/products")).then((function(n){n.data||(console.log("no response data"),e([])),console.log(n.data),e(n.data)})).catch((function(e){console.log(e.toString()),n(e.toString())}))}))};var wt=Object(E.b)({name:"product",initialState:{products:[],status:"idle",error:null},reducers:{loadingStarted:function(e){console.log("fetching products..."),e.status="loading"},loadingSucceeded:function(e,n){console.log("products loaded:",n.payload),e.status="succeeded",e.products=n.payload},loadingFailed:function(e,n){console.log("products loading failed:",n.payload),e.status="failed",e.error=n.payload}}}),Nt=wt.actions,St=Nt.loadingStarted,Dt=Nt.loadingSucceeded,Pt=Nt.loadingFailed,Gt=wt.reducer;function kt(){return Object(H.jsx)("div",{children:Object(H.jsx)(d.a,{variant:"h2",children:"Loading..."})})}var Mt={fetchProducts:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(St()),yt().then((function(e){n(Dt(e))})).catch((function(e){n(me(e,pe)),n(Pt(e))}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},At=Object(P.b)((function(e){return{products:vt(e),status:Ct(e),error:xt(e),language:B(e)}}),Mt)((function(e){var n=e.products,t=void 0===n?[]:n,o=e.status,r=e.error,a=e.fetchProducts,c=e.language,u=0===t.length;function s(){return Object(H.jsx)(kt,{})}return Object(i.useEffect)((function(){u&&(console.log("calling to fetch products..."),a())}),[a,u]),function(){switch(o){case"loading":default:return s();case"succeeded":return u?Object(H.jsx)(d.a,{variant:"h2",children:T("noProductsFound",c)}):Object(H.jsx)(O.a,{container:!0,columns:12,spacing:2,sx:{paddingTop:2,marginRight:4},children:t.map((function(e,n){return Object(H.jsx)(O.a,{item:!0,sm:12,md:6,lg:4,xl:3,width:"100%",children:Object(H.jsx)(It,{product:e})},n)}))});case"failed":return e=r,Object(H.jsxs)("div",{children:[Object(H.jsx)(d.a,{variant:"h2",children:T("failedToLoadProducts",c)}),Object(H.jsx)(d.a,{variant:"body1",children:T(e,c)})]})}var e}()})),Lt=t(90),Rt=t(510),Tt=t(525),Bt=t(557),Et=t(511),qt=t(512),Ft=t(513),Wt=t(105),zt=function(e){return new Promise((function(n,t){F.a.get("".concat(W,"/configuration/").concat(e)).then((function(e){n(e.data)})).catch((function(e){t(e.toString())}))}))},Vt=function(e){return new Promise((function(n,t){var i=Object(at.a)({},e);console.log(i),F.a.post("".concat(W,"/configuration"),i).then((function(e){n(e.data)})).catch((function(e){console.log(e),t("Api unreachable")}))}))};var Ut=Object(E.b)({name:"configuration",initialState:{configuration:{},selectedOptions:[],selectedModel:"",status:"idle",error:null},reducers:{selectOption:function(e,n){e.selectedOptions.includes(n.payload)||e.selectedOptions.push(n.payload)},deselectOption:function(e,n){e.selectedOptions=e.selectedOptions.filter((function(e){return e!==n.payload}))},setSelectedOptions:function(e,n){console.log("setting selected options"),e.selectedOptions=n.payload},setSelectedModel:function(e,n){e.selectedModel=n.payload},reset:function(e,n){console.log("reset active configuration"),e.selectedOptions=n.payload},loadingStarted:function(e){console.log("fetching configuration..."),e.status="loading"},loadingSucceeded:function(e,n){console.log("configuration loaded:",n.payload),e.status="succeeded",e.configuration=n.payload,e.selectedOptions=Zt(e.configuration.configId)||[]},loadingFailed:function(e,n){console.log("configuration loading failed:",n.payload),e.status="failed",e.error=n.payload.toString(),e.configuration={},e.selectedOptions=[]}},extraReducers:function(e){}}),Kt=function(e){return function(){var n=Object(ce.a)(ae.a.mark((function n(t,i){return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(ci()),zt(e).then((function(e){t(Ht(wn(i()))),t(ui(e)),t(Jt())})).catch((function(e){t(me(e,pe)),t(si(e))}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},_t=function(e,n){return n.every((function(n){return e.includes(n)}))},Jt=function(){return function(e,n){var t=Ln(n()),i=Sn(n());if(0!==t.length){var o,r,a,c=Object(Wt.a)(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(r=Tn(u),_t(r,a=t)&&_t(a,r))return void e(Ht(Rn(u)))}}catch(s){c.e(s)}finally{c.f()}e(Ht(""))}else e(Ht(""))}},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(n,t){if(e){var i=Bn(t(),e);n(ri(i))}n(ai(e))}},Yt=function(e,n){var t=Xt(),i=t.find((function(n){return n.id===e}));i?i.options=n:(i={id:e,options:n},t.push(i)),$r(t,"configurations")},Zt=function(e){console.log("all stored configs:",Xt()),console.log(e);var n=Xt().find((function(n){return n.id===e}));return console.log("storage loaded config:",n),n&&n.options?n.options:null},Xt=function(){var e=ea("configurations");return e||[]},Qt=function(e){return function(n,t){var i=[],o=zn(t(),e);if(o){var r,a=Object(Wt.a)(o);try{for(a.s();!(r=a.n()).done;){var c=r.value;c!==e&&(Wn(t(),c)&&i.push(c))}}catch(j){a.e(j)}finally{a.f()}}var u=et(t(),e),s=[].concat(i,Object(fn.a)(u)),l=[];s.forEach((function(e){var n=ni(t(),e);n&&(l=[].concat(Object(fn.a)(l),Object(fn.a)(n)))})),l=[].concat(Object(fn.a)(u),Object(fn.a)(l));var d=[].concat(i,Object(fn.a)(l));if(d&&0!==d.length)if(0!==l.length){var f=l.map((function(e){return Fn(t(),e)})),p=Fn(t(),e),g="By selecting ".concat(p," you will deselect ").concat(f.join(", "));n(rn(g,{selected:e,deselected:null,optionsToSelect:[],optionsToRemove:l},null,(function(){n(ei([e],d))})))}else n(ei([e],d));else n(ei([e],null))}},$t=function(e){return function(n,t){var i=ni(t(),e);if(i&&0!==i.length){var o=i.map((function(e){return Fn(t(),e)})),r=Fn(t(),e),a="By deselecting ".concat(r," you will also deselect ").concat(o.join(", "));n(rn(a,{selected:null,deselected:e,optionsToSelect:[],optionsToRemove:i},null,(function(){n(ei(null,[e].concat(i)))})))}else n(ei(null,[e]))}},ei=function(e,n){return function(t){e&&e.length>=1&&e.forEach((function(e){t(ii(e))})),n&&n.length>=1&&n.forEach((function(e){t(oi(e))})),t((function(e,n){var t=Cn(n()),i=Ln(n());Yt(t,i)})),t(Jt())}},ni=function e(n,t){var i=$n(n,t);if(0===i.length)return null;var o=[];return i.forEach((function(t){var i=e(n,t);null!=i&&(o=[].concat(Object(fn.a)(o),Object(fn.a)(i)))})),[].concat(Object(fn.a)(i),Object(fn.a)(o))},ti=Ut.actions,ii=ti.selectOption,oi=ti.deselectOption,ri=ti.setSelectedOptions,ai=ti.setSelectedModel,ci=(ti.reset,ti.loadingStarted),ui=ti.loadingSucceeded,si=ti.loadingFailed,li=Ut.reducer,di=t(507),fi=t(508),pi=t(528),gi=t(555),ji=t(556);var bi=Object(P.b)((function(e,n){return Object(at.a)(Object(at.a)({},n),{},{state:e})}),{})((function(e){var n=e.state,t=e.optionId,i=e.name,o=e.price;return t&&(i=qn(n,t).name,o=Xn(n,t)),Object(H.jsxs)(d.a,{variant:"body2",children:[i,o?": ".concat(o,"\u20ac"):""]})})),mi=t(509);var Oi={fetchConfiguration:Kt,setSelectedOptions:ri},hi=Object(P.b)((function(e){return{sections:An(e),groups:Mn(e),status:xn(e),loadedConfigurationId:Cn(e),options:kn(e),basePrice:In(e),currentPrice:Qn(e),language:B(e)}}),Oi)((function(e){var n=e.configurationId,t=e.selectedOptions,o=e.status,r=e.loadedConfigurationId,a=e.sections,c=e.groups,u=e.basePrice,s=e.currentPrice,l=e.fetchConfiguration,f=e.setSelectedOptions,p=e.language;function g(e){var n=c.filter((function(n){return e.optionGroupIds.includes(n.id)})),i=function(e){return t.filter((function(n){return e.optionIds.includes(n)}))};return n.map((function(e,n){return Object(H.jsx)(y.a,{children:i(e).length>0?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(d.a,{vairant:"body1",children:e.name}),i(e).map((function(e,n){return Object(H.jsx)(bi,{optionId:e},n)})),Object(H.jsx)(di.a,{sx:{marginTop:1,marginBottom:1}})]}):""},n)}))}return Object(i.useEffect)((function(){console.log("summary: setting selected options"),f(t)}),[r,t,f]),Object(i.useEffect)((function(){n!==r&&(console.log("summary: fetching configuration"),l(n))}),[n,r,l]),"succeeded"!==o?Object(H.jsx)(H.Fragment,{}):Object(H.jsxs)(y.a,{children:[Object(H.jsxs)(d.a,{variant:"h3",children:[T("price",p),": ",s,"\u20ac"]}),Object(H.jsxs)(fi.a,{spacing:1,children:[Object(H.jsx)(bi,{name:T("basePrice",p),price:u}),a.map((function(e,n){return Object(H.jsxs)(pi.a,{children:[Object(H.jsx)(gi.a,{expandIcon:Object(H.jsx)(mi.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(H.jsx)(d.a,{variant:"h4",children:e.name})}),Object(H.jsx)(ji.a,{children:g(e)})]},n)}))]})]})}));var vi={openConfirm:rn,openAlert:me},xi=Object(P.b)((function(e){return{language:B(e)}}),vi)((function(e){var n=e.configurations,t=e.openConfirm,i=e.isOrdered,o=void 0!==i&&i,r=e.isAdminView,a=void 0!==r&&r,c=e.openAlert,s=e.language,l=Object(u.f)();function f(e,n){(function(e,n){return new Promise((function(t,i){var o={savedName:n};F.a.delete("".concat(W,"/account/configurations/").concat(e),o).then((function(e){t(e.data)})).catch((function(e){i("Could not get saved configurations!")}))}))})(e,n).then((function(e){c("".concat(T("successfullyRemoved",s)," ").concat(n,"!"),ge),l("/account/saved")})).catch((function(e){c("Error: ".concat(e),pe)}))}return Object(H.jsx)(Rt.a,{children:Object(H.jsx)(O.a,{container:!0,justifyContent:"center",children:n.map((function(e,n){var i=e.configId,r=function(e){return e.options}(e),c=function(e){return e.savedName}(e),u=function(e){return e.date}(e),s=function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.userName)||""}(e);return Object(H.jsxs)(Rt.a,{margin:2,children:[Object(H.jsxs)(Rt.a,{display:"flex",alignItems:"center",children:[Object(H.jsx)(d.a,{variant:"body1",children:c}),Object(H.jsx)(j.a,{onClick:function(){return function(e,n){l("/configuration/".concat(e)),Yt(e,n)}(i,r)},children:Object(H.jsx)(Et.a,{})}),o?"":Object(H.jsx)(j.a,{onClick:function(){return f(i,c)},children:Object(H.jsx)(qt.a,{})}),o?Object(H.jsx)(j.a,{onClick:function(){return function(e,n){t("",{},Object(H.jsx)(hi,{configurationId:e,selectedOptions:n}),(function(){}))}(i,r)},children:Object(H.jsx)(Ft.a,{})}):""]}),Object(H.jsx)(d.a,{variant:"body2",children:c}),Object(H.jsx)(d.a,{variant:"body2",children:new Date(u).toLocaleTimeString()}),a?Object(H.jsxs)(d.a,{variant:"body2",children:["From: ",s]}):""]},n)}))})})})),Ci=["children","value","index"];function Ii(e){var n=e.children,t=e.value,i=e.index,o=Object(Lt.a)(e,Ci);return Object(H.jsx)("div",Object(at.a)(Object(at.a)({role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},o),{},{children:t===i&&Object(H.jsx)(Rt.a,{sx:{p:3},children:n})}))}var yi=[{name:"saved",value:0},{name:"ordered",value:1},{name:"allordered",value:2,forAdmin:!0}];var wi=Object(P.b)((function(e){return{isAdmin:Q(e),savedConfigurations:ne(e),orderedConfigurations:te(e),allOrderedConfigurations:ie(e),language:B(e)}}),{})((function(e){var n=e.isAdmin,t=e.savedConfigurations,o=e.orderedConfigurations,r=e.allOrderedConfigurations,a=e.language,c=Object(u.f)(),s=Object(u.g)().tab,l=yi.find((function(e){return e.name===s})),d=l;l&&d.forAdmin&&!n&&(d=null),Object(i.useEffect)((function(){d||c("/account/".concat(yi[0].name))}),[d,c]);var p=d?d.value:0,g=Object(i.useState)(p),j=Object(f.a)(g,2),b=j[0],m=j[1];function O(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return Object(H.jsxs)(Rt.a,{width:"100%",children:[Object(H.jsxs)(Tt.a,{scrollButtons:"auto",variant:"scrollable",allowScrollButtonsMobile:!0,value:b,onChange:function(e,n){var t=yi.find((function(e){return e.value===n}));t&&(m(t.value),c("/account/".concat(t.name)))},"aria-label":"configurationstabs",children:[Object(H.jsx)(Bt.a,Object(at.a)({label:T("savedConfigurations",a)},O(0))),Object(H.jsx)(Bt.a,Object(at.a)({label:T("orderedConfigurations",a)},O(1))),n?Object(H.jsx)(Bt.a,Object(at.a)({label:T("allOrderedConfigurations",a)},O(2))):""]}),Object(H.jsx)(Ii,{value:b,path:yi[0].name,index:0,children:Object(H.jsx)(xi,{configurations:t})}),Object(H.jsx)(Ii,{value:b,path:yi[1].name,index:1,children:Object(H.jsx)(xi,{configurations:o,isOrdered:!0})}),n?Object(H.jsx)(Ii,{value:b,path:yi[1].name,index:2,children:Object(H.jsx)(xi,{configurations:r,isOrdered:!0,isAdminView:!0})}):""]})}));var Ni={getSavedConfigurations:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise((function(e,n){F.a.get("".concat(W,"/account/configurations/")).then((function(n){e(n.data)})).catch((function(e){n("Could not get saved configurations!")}))})).then((function(e){var t=e.filter((function(e){return"saved"===e.status})),i=e.filter((function(e){return"ordered"===e.status}));t.length>0&&n(we(t)),i.length>0&&n(Ne(i))})).catch((function(e){console.log(e),n(me(e,pe))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},getAllOrderedConfigurations:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise((function(e,n){F.a.get("".concat(W,"/account/allorderedconfigurations/")).then((function(n){e(n.data)})).catch((function(e){n("Could not get all ordered configurations!")}))})).then((function(e){n(Se(e))})).catch((function(e){console.log(e),n(me(e,pe))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},Si=Object(P.b)((function(e){return{isLoggedIn:X(e),isAdmin:Q(e),username:$(e),email:ee(e)}}),Ni)((function(e){var n=e.username,t=e.email,o=e.isLoggedIn,r=e.isAdmin,a=e.getSavedConfigurations,c=e.getAllOrderedConfigurations,u=Object(H.jsx)(H.Fragment,{}),s=Object(H.jsx)(H.Fragment,{});return Object(i.useEffect)((function(){o&&a(),r&&c()}),[o,r,a,c]),Object(H.jsx)(y.a,{className:"accountpage",display:"flex",flexDirection:"column",alignItems:"center",children:o?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(y.a,{className:"userdetails",paddingTop:2,paddingBottom:4,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(H.jsx)(d.a,{variant:"h2",children:n}),Object(H.jsx)(d.a,{variant:"body1",children:t})]}),Object(H.jsxs)(y.a,{children:[s,r?u:""]}),Object(H.jsx)(wi,{})]}):Object(H.jsx)(y.a,{children:Object(H.jsx)(d.a,{variant:"h2",children:"Log in to access this page!"})})})})),Di=t(516),Pi=t(534),Gi=t(514),ki=function(e){return e.builder.currentLanguage},Mi=function(e){return e.builder.configuration},Ai=function(e){return e.builder.status},Li=function(e){return e.builder.error},Ri=function(e){return e.builder.currentLanguage},Ti=function(e){return e.builder.configuration.optionSections},Bi=function(e){return e.builder.configuration.optionGroups},Ei=function(e){return e.builder.configuration.rules.models},qi=function(e){return e.builder.configuration.rules.defaultModel},Fi=function(e){return e.builder.configuration.rules.basePrice},Wi=function(e){return e.builder.configuration.rules.requirements},zi=function(e){return e.builder.configuration.rules.incompatibilities},Vi=function(e){return e.builder.configuration.rules.groupRequirements||[]},Ui=function(e){return e.builder.configuration.languages[e.builder.currentLanguage].options||[]},Ki=function(e){return e.builder.configuration.languages[e.builder.currentLanguage].optionGroups||[]},_i=function(e){return e.builder.configuration.languages[e.builder.currentLanguage].optionSections||[]},Ji=function(e,n){return n},Hi=Object(pn.a)([function(e){return e.builder.configuration.languages[e.builder.currentLanguage].name||""},ki],(function(e,n){return e||""})),Yi=Object(pn.a)([function(e){return e.builder.configuration.languages[e.builder.currentLanguage].description||""},ki],(function(e,n){return e||""})),Zi=Object(pn.a)([Ji,Ui],(function(e,n){var t=n.find((function(n){return n.id===e}));return t||null})),Xi=Object(pn.a)([Ji,function(e){return e.builder.configuration.rules.priceList}],(function(e,n){var t=n[e];return t||0})),Qi=Object(pn.a)([Ji,Wi],(function(e,n){var t=n[e];return t||[]})),$i=Object(pn.a)([Ji,zi],(function(e,n){var t=n[e];return t||[]})),eo=Object(pn.a)([Ji,Ti],(function(e,n){var t=n.find((function(n){return n.id===e}));return t||null})),no=Object(pn.a)([Ji,Ti],(function(e,n){var t=n.find((function(n){return n.id===e}));return t?t.optionGroupIds:[]})),to=Object(pn.a)([Ji,Bi],(function(e,n){var t=n.find((function(n){return n.id===e}));return t||null})),io=Object(pn.a)([Ji,Bi,Ki],(function(e,n,t){var i=n.find((function(n){return n.optionIds.includes(e)}));return i?t.find((function(e){return e.id===i.id})).name:""})),oo=Object(pn.a)([Ji,Vi],(function(e,n){var t=n[e];return t||[]})),ro=Object(pn.a)([function(e){return e.builder.configuration.languages},ki],(function(e,n){return e[n]})),ao=Object(pn.a)([Ti,Ji],(function(e,n){return!!e.find((function(e){return e.id.toUpperCase()===n.toUpperCase()}))})),co=Object(pn.a)([Bi,Ji],(function(e,n){return!!e.find((function(e){return e.id.toUpperCase()===n.toUpperCase()}))})),uo=Object(pn.a)([function(e){return e.builder.configuration.options},Ji],(function(e,n){return!!e.find((function(e){return e.id.toUpperCase()===n.toUpperCase()}))})),so=Object(pn.a)([ro,Ji],(function(e,n){return e.optionGroups.find((function(e){return e.id===n}))||null})),lo=Object(pn.a)([so],(function(e){return e?e.name:""})),fo=Object(pn.a)([so],(function(e){return e?e.description:""})),po=Object(pn.a)([ro,Ji],(function(e,n){return e.models.find((function(e){return e.id===n.id}))||null})),go=Object(pn.a)([po],(function(e){return e?e.name:"c"})),jo=Object(pn.a)([po],(function(e){return e?e.description:"c"})),bo={configuration:{configId:"",images:[],options:[],optionSections:[],optionGroups:[],rules:{basePrice:0,defaultModel:"",models:[],groupRequirements:{},requirements:{},incompatibilities:{},priceList:{}},languages:{en:{name:"",description:"",options:[],optionSections:[],optionGroups:[],models:[]},de:{name:"",description:"",options:[],optionSections:[],optionGroups:[],models:[]},fr:{name:"",description:"",options:[],optionSections:[],optionGroups:[],models:[]}}},currentLanguage:L,status:"idle",error:null},mo=Object(E.b)({name:"builder",initialState:Object(at.a)(Object(at.a)({},bo),{},{configuration:ea("builder")||bo.configuration}),reducers:{addSection:function(e,n){var t=n.payload;e.configuration.optionSections.push({id:t,optionGroupIds:[]});var i={id:t,name:t};for(var o in e.configuration.languages){e.configuration.languages[o].optionSections.push(i)}},changeSectionProperties:function(e,n){var t=n.payload,i=t.sectionId,o=t.newName,r=e.configuration.languages[e.currentLanguage].optionSections.find((function(e){return e.id===i}));r&&(r.name=o||r.name)},removeSection:function(e,n){var t=n.payload;for(var i in e.configuration.optionSections=e.configuration.optionSections.filter((function(e){return e.id!==t})),e.configuration.languages){var o=e.configuration.languages[i];o.optionSections=o.optionSections.filter((function(e){return e.id!==t}))}},addOptionGroup:function(e,n){var t=n.payload,i=t.sectionId,o=t.groupId,r=t.name,a=t.description,c=t.isRequired,u=t.isReplacementGroup;e.configuration.optionGroups.push({id:o,required:c,replacement:u,optionIds:[]});var s={id:o,name:r,description:a};for(var l in e.configuration.languages){e.configuration.languages[l].optionGroups.push(s)}var d=e.configuration.optionSections.find((function(e){return e.id===i}));d&&d.optionGroupIds.push(o)},changeGroupProperties:function(e,n){var t=n.payload,i=t.groupId,o=t.newName,r=t.newDescription,a=e.configuration.languages[e.currentLanguage].optionGroups.find((function(e){return e.id===i}));a&&(a.name=o||a.name,a.description=r||a.description)},setGroupRequirements:function(e,n){var t=n.payload,i=t.groupId,o=t.requirements;for(var r in e.configuration.rules.groupRequirements[i]=o,e.configuration.rules.groupRequirements)0===e.configuration.rules.groupRequirements[r].length&&delete e.configuration.rules.groupRequirements[r]},setGroupIsRequired:function(e,n){var t=n.payload,i=t.groupId,o=t.required,r=e.configuration.optionGroups.find((function(e){return e.id===i}));r&&(r.required=o)},setGroupIsReplacement:function(e,n){var t=n.payload,i=t.groupId,o=t.replacement,r=e.configuration.optionGroups.find((function(e){return e.id===i}));r&&(r.replacement=o)},removeOptionGroup:function(e,n){var t=n.payload,i=t.groupId,o=t.sectionId;for(var r in e.configuration.rules.groupRequirements[i]&&delete e.configuration.rules.groupRequirements[i],e.configuration.optionGroups=e.configuration.optionGroups.filter((function(e){return e.id!==i})),e.configuration.languages){var a=e.configuration.languages[r];a.optionGroups=a.optionGroups.filter((function(e){return e.id!==i}))}var c=e.configuration.optionSections.find((function(e){return e.id===o}));c&&(c.optionGroupIds=c.optionGroupIds.filter((function(e){return e!==i})))},addOption:function(e,n){var t=n.payload,i=t.groupId,o=t.optionId,r=t.name,a=t.description,c=t.price;e.configuration.options.push({id:o,groupId:i});var u={id:o,name:r,description:a};for(var s in e.configuration.languages){e.configuration.languages[s].options.push(u)}var l=e.configuration.optionGroups.find((function(e){return e.id===i}));l&&l.optionIds.push(o),c&&(e.configuration.rules.priceList[o]=c)},changeOptionProperties:function(e,n){var t=n.payload,i=t.optionId,o=t.newName,r=t.newDescription,a=e.configuration.languages[e.currentLanguage].options.find((function(e){return e.id===i}));a&&(a.name=o||a.name,a.description=r||a.description)},setOptionPrice:function(e,n){var t=n.payload,i=t.optionId,o=t.price;e.configuration.rules.priceList[i]=o},setOptionRequirements:function(e,n){var t=n.payload,i=t.optionId,o=t.requirements;for(var r in e.configuration.rules.requirements[i]=o,e.configuration.rules.requirements)0===e.configuration.rules.requirements[r].length&&delete e.configuration.rules.requirements[r]},setOptionIncompatibilities:function(e,n){var t=n.payload,i=t.optionId,o=t.incompatibilities;for(var r in e.configuration.rules.incompatibilities[i]=o,e.configuration.rules.incompatibilities)0===e.configuration.rules.incompatibilities[r].length&&delete e.configuration.rules.incompatibilities[r]},removeOption:function(e,n){var t=n.payload,i=t.groupId,o=t.optionId;e.configuration.options=e.configuration.options.filter((function(e){return e.id!==o}));var r=e.configuration.optionGroups.find((function(e){return e.id===i}));for(var a in r&&(r.optionIds=r.optionIds.filter((function(e){return e!==o}))),e.configuration.languages){var c=e.configuration.languages[a];c.options=c.options.filter((function(e){return e.id!==o}))}e.configuration.rules.requirements[o]&&delete e.configuration.rules.requirements[o],e.configuration.rules.incompatibilities[o]&&delete e.configuration.rules.incompatibilities[o],e.configuration.rules.priceList[o]&&delete e.configuration.rules.priceList[o]},addModel:function(e,n){var t=n.payload,i=t.modelName,o=t.options,r=t.description;e.configuration.rules.models.push({id:i,options:o});var a={id:i,name:i,description:r};for(var c in e.configuration.languages){e.configuration.languages[c].models.push(a)}},changeModelProperties:function(e,n){var t=n.payload,i=t.modelId,o=t.newName,r=t.newDescription,a=e.configuration.languages[e.currentLanguage].models.find((function(e){return e.id===i}));a&&(a.name=o||a.name,a.description=r||a.description)},setDefaultModel:function(e,n){e.configuration.rules.defaultModel=n.payload},setModelOptions:function(e,n){var t=n.payload,i=t.modelId,o=t.options,r=e.configuration.rules.models.find((function(e){return e.id===i}));r&&(r.options=o)},removeModel:function(e,n){var t=n.payload;for(var i in e.configuration.rules.models=e.configuration.rules.models.filter((function(e){return e.id!==t})),e.configuration.languages){var o=e.configuration.languages[i];o.models=o.models.filter((function(e){return e.id!==t}))}},setBasePrice:function(e,n){e.configuration.rules.basePrice=n.payload},setDescription:function(e,n){var t=n.payload;e.configuration.languages[e.currentLanguage].description=t},setName:function(e,n){var t=n.payload;e.configuration.languages[e.currentLanguage].name=t,e.configuration.languages[L].name||(e.configuration.languages[L].name=t)},changeInputLanguage:function(e,n){var t=n.payload;e.currentLanguage=t},resetBuild:function(e,n){e.configuration=bo},loadingStarted:function(e){e.status="loading"},loadingSucceeded:function(e,n){e.status="succeeded"},loadingFailed:function(e,n){e.status="failed",e.error=n.payload},loadingHandled:function(e,n){e.status="idle",e.error=null}}}),Oo=function(e,n){return function(t,i){var o=to(i(),e);if(o){var r=function(e){return e.optionIds||[]}(o);r.forEach((function(n){t(ho(e,n))}));var a=Vi(i());for(var c in a){var u=a[c].filter((function(n){return n!==e}));t(So({groupId:c,requirements:u}))}t(Go({groupId:e,sectionId:n}))}else console.log("Could not delete group -> no group matches the id: "+e)}},ho=function(e,n){return function(t,i){Ei(i()).forEach((function(e){var i=function(e){return e.options||[]}(e).filter((function(e){return e!==n}));t(vo(e.id,i))}));var o=Wi(i());for(var r in o){var a=o[r].filter((function(e){return e!==n}));t(Lo({optionId:r,requirements:a}))}var c=zi(i());for(var u in c){var s=c[u].filter((function(e){return e!==n}));t(Ro({optionId:u,incompatibilities:s}))}t(To({groupId:e,optionId:n}))}},vo=function(e,n){return function(t){t(Fo({modelId:e,options:n}))}},xo=mo.actions,Co=xo.addSection,Io=xo.changeSectionProperties,yo=xo.removeSection,wo=xo.addOptionGroup,No=xo.changeGroupProperties,So=xo.setGroupRequirements,Do=xo.setGroupIsRequired,Po=xo.setGroupIsReplacement,Go=xo.removeOptionGroup,ko=xo.addOption,Mo=xo.changeOptionProperties,Ao=xo.setOptionPrice,Lo=xo.setOptionRequirements,Ro=xo.setOptionIncompatibilities,To=xo.removeOption,Bo=xo.addModel,Eo=xo.changeModelProperties,qo=xo.setDefaultModel,Fo=xo.setModelOptions,Wo=xo.removeModel,zo=xo.setBasePrice,Vo=xo.setDescription,Uo=xo.setName,Ko=xo.changeInputLanguage,_o=xo.resetBuild,Jo=xo.loadingStarted,Ho=xo.loadingSucceeded,Yo=xo.loadingFailed,Zo=xo.loadingHandled,Xo=mo.reducer,Qo=t(558);var $o={setName:Uo,setDescription:Vo,setPrice:zo},er=Object(P.b)((function(e){return{name:Hi(e),description:Yi(e),basePrice:Fi(e),language:B(e)}}),$o)((function(e){var n=e.name,t=e.description,o=e.basePrice,r=e.setName,a=e.setDescription,c=e.setPrice,u=e.language,s=Object(i.useState)(!1),l=Object(f.a)(s,2),p=l[0],g=l[1],j=Object(i.useState)(n),b=Object(f.a)(j,2),m=b[0],h=b[1],v=Object(i.useState)(t),x=Object(f.a)(v,2),C=x[0],I=x[1];return Object(i.useEffect)((function(){h(n)}),[n,h]),Object(i.useEffect)((function(){I(t)}),[t,h]),Object(H.jsxs)(O.a,{item:!0,container:!0,rowGap:2,children:[Object(H.jsx)(O.a,{item:!0,children:Object(H.jsx)(d.a,{variant:"h3",children:T("productProperties",u)})}),Object(H.jsxs)(O.a,{item:!0,container:!0,rowSpacing:2,columnSpacing:2,children:[Object(H.jsx)(O.a,{item:!0,xs:12,sm:8,md:3,children:Object(H.jsx)(st.a,{fullWidth:!0,label:T("configurationName",u),variant:"outlined",value:m,onChange:function(e){return h(e.target.value)},onBlur:function(e){m&&r(m)}})}),Object(H.jsx)(O.a,{item:!0,xs:12,flexGrow:1,sm:4,md:2,children:Object(H.jsx)(st.a,{fullWidth:!0,label:T("basePrice",u),variant:"outlined",onChange:function(e){var n=Number(e.target.value);n||0===n?(g(!1),c(n)):g(!0)},error:p,defaultValue:o,type:"number",InputProps:{inputProps:{min:0},startAdornment:Object(H.jsx)(Qo.a,{position:"start",children:"\u20ac"})}})}),Object(H.jsx)(O.a,{item:!0,flexGrow:1,children:Object(H.jsx)(st.a,{fullWidth:!0,label:T("description",u),variant:"outlined",value:C,onChange:function(e){return I(e.target.value)},onBlur:function(e){C&&a(C)},multiline:!0,maxRows:4})})]})]})})),nr=t(515);var tr={openInputDialog:Le},ir=Object(P.b)((function(e){return{}}),tr)((function(e){var n=e.title,t=e.propertyName,i=void 0===t?"":t,o=e.oldValue,r=void 0===o?"":o,a=e.textButton,c=void 0!==a&&a,u=e.valueChangedCallback,s=e.openInputDialog;function l(){var e={item:{name:i||"new value",value:r}};s("".concat(n),e,(function(e){u(e.item.value)}))}return Object(H.jsx)(H.Fragment,{children:c?Object(H.jsx)(p.a,{onClick:l,children:"".concat(n)}):Object(H.jsx)(g.a,{title:n,children:Object(H.jsx)(j.a,{sx:{display:"inline"},onClick:l,children:Object(H.jsx)(Et.a,{})})})})}));var or={removeModel:Wo,changeModelProperties:Eo,setModelOptions:vo,openConfirmDialog:rn},rr=Object(P.b)((function(e,n){return{name:go(e,n.model),description:jo(e,n.model),allOptions:Ui(e),getBuilderGroupNameByOptionId:function(n){return io(e,n)},language:B(e)}}),or)((function(e){var n=e.model,t=e.name,i=e.description,o=e.allOptions,r=e.getBuilderGroupNameByOptionId,a=e.removeModel,c=e.changeModelProperties,u=e.setModelOptions,s=e.openConfirmDialog,l=e.language,f=n.options,p=n.id;return Object(H.jsxs)(O.a,{container:!0,children:[Object(H.jsxs)(O.a,{item:!0,xs:12,sm:10,xl:9,children:[Object(H.jsxs)(O.a,{item:!0,container:!0,alignItems:"center",children:[Object(H.jsx)(d.a,{variant:"body1",children:t}),Object(H.jsx)(ir,{title:"".concat(T("editModelName",l)),propertyName:T("modelName",l),oldValue:t,valueChangedCallback:function(e){c({modelId:p,newName:e})}})]}),Object(H.jsx)(O.a,{item:!0,container:!0,alignItems:"center",children:Object(H.jsxs)(d.a,{variant:"body2",children:[i,Object(H.jsx)(ir,{title:"".concat(T("editModelDescription",l)),propertyName:T("modelDescription",l),oldValue:i,valueChangedCallback:function(e){c({modelId:p,newDescription:e})}})]})})]}),Object(H.jsx)(O.a,{item:!0,container:!0,xs:12,sm:2,xl:1,justifyContent:{xs:"center",sm:"flex-end"},children:Object(H.jsx)(g.a,{title:"".concat(T("remove",l)," '").concat(t,"'"),children:Object(H.jsx)(j.a,{onClick:function(){s("".concat(T("removeModelConfirmation",l),": '").concat(t,"'?"),{},null,(function(){a(p)}))},children:Object(H.jsx)(qt.a,{})})})}),Object(H.jsx)(O.a,{item:!0,container:!0,xs:12,xl:2,justifyContent:{xs:"center",xl:"flex-end"},children:Object(H.jsxs)(w.a,{sx:{m:1,width:300},children:[Object(H.jsx)(N.a,{id:"options-label-".concat(t),children:T("options",l)}),Object(H.jsx)(S.a,{labelId:"options-label",multiple:!0,value:f,onChange:function(e){var n=e.target.value,i="string"===typeof n?n.split(","):n;u(t,i)},input:Object(H.jsx)(Pi.a,{label:T("options",l)}),renderValue:function(e){return o.filter((function(n){return e.includes(n.id)})).map((function(e){return e.name})).join(", ")},children:o.map((function(e){return Object(H.jsxs)(D.a,{value:e.id,children:[Object(H.jsx)(ut.a,{checked:f.indexOf(e.id)>-1}),Object(H.jsx)(Gi.a,{primary:"".concat(e.name," (").concat(r(e.id),")")})]},e.id)}))})]})})]})}));var ar={createModel:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(i){i(Bo({modelName:e,options:t,description:n}))}},setDefaultModel:function(e){return function(n){n(qo(e))}},openInputDialog:Le},cr=Object(P.b)((function(e){return{models:Ei(e),selectedDefaultModel:qi(e),language:B(e)}}),ar)((function(e){var n=e.models,t=e.selectedDefaultModel,i=e.setDefaultModel,o=e.createModel,r=e.openInputDialog,a=e.language;return Object(H.jsxs)(y.a,{width:"100%",children:[Object(H.jsxs)(O.a,{container:!0,justifyContent:"space-between",children:[Object(H.jsx)(d.a,{variant:"h3",children:T("models",a)}),Object(H.jsx)(y.a,{sx:{minWidth:120},children:Object(H.jsxs)(w.a,{variant:"standard",fullWidth:!0,children:[Object(H.jsx)(N.a,{id:"select-default-model-label",children:T("defaultModel",a)}),Object(H.jsx)(S.a,{labelId:"select-default-model-label",value:t,autoWidth:!0,label:"Default Model",onChange:function(e){i(e.target.value)},children:n.map((function(e,n){return Object(H.jsx)(D.a,{value:e.id,children:e.id},n)}))})]})})]}),Object(H.jsxs)(O.a,{container:!0,gap:2,marginTop:2,direction:"column",justifyContent:"center",alignItems:"center",children:[n.map((function(e,n){return Object(H.jsx)(rr,{model:e,isSelected:e.id===t},n)})),Object(H.jsx)(y.a,{children:Object(H.jsx)(g.a,{title:"Add Model",children:Object(H.jsx)(j.a,{onClick:function(){var e=T("addModel",a),n={modelName:{name:T("modelName",a),value:""},modelDesc:{name:T("modelDescription",a),value:""}};r(e,n,(function(e){var n=e.modelName.value,t=e.modelDesc.value;o(n,t)}))},children:Object(H.jsx)(nr.a,{})})})})]})]})}));var ur=function(e,n,t,i,o){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(N.a,{id:"options-label-".concat(e),children:e}),Object(H.jsx)(S.a,{labelId:"options-label-".concat(e),multiple:!0,value:n,onChange:o,input:Object(H.jsx)(Pi.a,{label:e}),renderValue:function(e){return t.filter((function(n){return e.includes(n.id)})).map((function(e){return e.name})).join(", ")},children:t.map((function(e){return Object(H.jsxs)(D.a,{value:e.id,children:[Object(H.jsx)(ut.a,{checked:n.indexOf(e.id)>-1}),Object(H.jsx)(Gi.a,{primary:"".concat(e.name," (").concat(i(e.id),")")})]},e.id)}))})]})},sr={remove:ho,setOptionRequirements:Lo,setOptionIncompatibilities:Ro,setOptionPrice:Ao,changeOptionProperties:Mo,openConfirmDialog:rn},lr=Object(P.b)((function(e,n){return{option:Zi(e,n.optionId),optionPrice:Xi(e,n.optionId),allOptions:Ui(e),optionReqirements:Qi(e,n.optionId),optionIncompatibilities:$i(e,n.optionId),getBuilderGroupNameByOptionId:function(n){return io(e,n)},language:B(e)}}),sr)((function(e){var n=e.optionId,t=e.group,o=e.option,r=e.optionPrice,a=e.allOptions,c=e.optionReqirements,u=e.optionIncompatibilities,s=e.getBuilderGroupNameByOptionId,l=e.language,p=e.remove,b=e.setOptionPrice,m=e.setOptionRequirements,h=e.setOptionIncompatibilities,v=e.changeOptionProperties,x=e.openConfirmDialog,C=o.name,I=o.description,y=Object(i.useState)(!1),N=Object(f.a)(y,2),S=N[0],D=N[1],P=function(e){var n=e.target.value;return"string"===typeof n?n.split(","):n};return Object(H.jsxs)(O.a,{container:!0,paddingTop:2,paddingLeft:2,paddingBottom:2,children:[Object(H.jsx)(O.a,{item:!0,width:"100%",children:Object(H.jsxs)(Rt.a,{display:"flex",justifyContent:"space-between",children:[Object(H.jsxs)(Rt.a,{children:[Object(H.jsxs)(d.a,{variant:"body1",children:[C,Object(H.jsx)(ir,{title:"".concat(T("editOptionName",l)),propertyName:T("optionName",l),oldValue:C,valueChangedCallback:function(e){v({optionId:n,newName:e})}})]}),Object(H.jsxs)(d.a,{variant:"body2",children:[I,Object(H.jsx)(ir,{title:"".concat(T("editOptionDescription",l)),propertyName:T("optionDescription",l),oldValue:I,valueChangedCallback:function(e){v({optionId:n,newDescription:e})}})]})]}),Object(H.jsx)(g.a,{title:"".concat(T("remove",l)," '").concat(C,"'"),children:Object(H.jsx)(j.a,{onClick:function(){x("".concat(T("removeOptionConfigrmation",l),": '").concat(C,"'?"),{},null,(function(){p(t.id,n)}))},children:Object(H.jsx)(qt.a,{})})})]})}),Object(H.jsxs)(O.a,{item:!0,container:!0,justifyContent:"center",children:[Object(H.jsx)(w.a,{sx:{m:1,width:300},children:Object(H.jsx)(st.a,{fullWidth:!0,label:T("optionPrice",l),variant:"outlined",onChange:function(e){var t=Number(e.target.value);t<0?D(!0):(D(!1),b({optionId:n,price:t}))},error:S,defaultValue:r,type:"number",InputProps:{inputProps:{min:0},startAdornment:Object(H.jsx)(Qo.a,{position:"start",children:"\u20ac"})}})}),Object(H.jsx)(w.a,{sx:{m:1,width:300},children:ur(T("requirements",l),c,a.filter((function(e){return e.id!==n})),s,(function(e){var t=P(e);m({optionId:n,requirements:t})}))}),Object(H.jsx)(w.a,{sx:{m:1,width:300},children:ur(T("incompatibilities",l),u,a.filter((function(e){return e.id!==n})),s,(function(e){var t=P(e);h({optionId:n,incompatibilities:t})}))})]})]})}));var dr=function(e,n,t){return Object(H.jsx)(w.a,{sx:{m:1,width:300},children:Object(H.jsx)(ct.a,{label:e,labelPlacement:"end",control:Object(H.jsx)(ut.a,{checked:n,onChange:function(e){t(e)}})})})},fr=function(e,n,t,i,o){return Object(H.jsxs)(w.a,{sx:{m:1,width:300},children:[Object(H.jsx)(N.a,{id:"".concat(e,"-").concat(n),children:e}),Object(H.jsx)(S.a,{labelId:"".concat(e,"-").concat(n),multiple:!0,value:t,onChange:o,input:Object(H.jsx)(Pi.a,{label:e}),renderValue:function(e){return i.filter((function(n){return e.includes(n.id)})).map((function(e){return e.name})).join(", ")},children:i.map((function(e){return Object(H.jsxs)(D.a,{value:e.id,children:[Object(H.jsx)(ut.a,{checked:t.indexOf(e.id)>-1}),Object(H.jsx)(Gi.a,{primary:e.name})]},e.id)}))})]})},pr={createOption:function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(o,r){var a="".concat(n,"_").concat(e).replace(" ","_");return!uo(r(),a)&&(o(ko({groupId:e,optionId:a,name:n,description:t,price:i})),!0)}},setGroupRequirements:So,setGroupIsRequired:Do,setGroupIsReplacement:Po,changeGroupProperties:No,deleteGroup:Oo,openInputDialog:Le,openConfirmDialog:rn,openAlert:me},gr=Object(P.b)((function(e,n){return{name:lo(e,n.group.id),description:fo(e,n.group.id),allGroups:Ki(e),groupRequirements:oo(e,n.group.id),language:B(e)}}),pr)((function(e){var n=e.group,t=e.name,i=e.description,o=e.sectionId,r=e.allGroups,a=e.groupRequirements,c=e.createOption,u=e.setGroupRequirements,s=e.setGroupIsRequired,l=e.setGroupIsReplacement,f=e.changeGroupProperties,p=e.deleteGroup,b=e.openInputDialog,m=e.openConfirmDialog,h=e.openAlert,v=e.language,x=n.id,C=n.optionIds,I=n.required,w=n.replacement;return Object(H.jsxs)(y.a,{marginBottom:1,padding:1,sx:{border:"1px dashed grey"},children:[Object(H.jsxs)(y.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",children:[Object(H.jsxs)(y.a,{children:[Object(H.jsxs)(d.a,{variant:"h3",children:[t,Object(H.jsx)(ir,{title:"".concat(T("editGroupName",v)),propertyName:T("groupName",v),oldValue:t,valueChangedCallback:function(e){f({groupId:x,newName:e})}})]}),Object(H.jsxs)(d.a,{variant:"subtitle1",children:[i,Object(H.jsx)(ir,{title:"".concat(T("editGroupDescription",v)),propertyName:T("groupDescription",v),oldValue:i,valueChangedCallback:function(e){f({groupId:x,newDescription:e})}})]})]}),Object(H.jsxs)(y.a,{children:[Object(H.jsx)(g.a,{title:T("addOption",v),children:Object(H.jsx)(j.a,{onClick:function(){var e={optionName:{name:T("optionName",v),value:""},optionDescription:{name:T("optionDescription",v),value:""}};b(T("newOption",v),e,(function(e){c(x,e.optionName.value,e.optionDescription.value)||h("Option already exists!",pe)}))},children:Object(H.jsx)(nr.a,{})})}),Object(H.jsx)(g.a,{title:"".concat(T("remove",v)," '").concat(t,"'"),children:Object(H.jsx)(j.a,{onClick:function(){m("".concat(T("removeGroupConfirmation",v),": ").concat(t,"?"),{},null,(function(){p(x,o)}))},children:Object(H.jsx)(qt.a,{})})})]})]}),Object(H.jsxs)(O.a,{item:!0,container:!0,justifyContent:"center",children:[Object(H.jsx)(O.a,{item:!0,container:!0,justifyContent:"center",xs:12,xl:6,children:fr(T("requirements",v),t,a,r.filter((function(e){return e.id!==x})),(function(e){var n=e.target.value,t="string"===typeof n?n.split(","):n;u({groupId:x,requirements:t})}))}),Object(H.jsx)(O.a,{item:!0,container:!0,justifyContent:"center",xs:12,xl:3,children:dr(T("required",v),I,(function(e){s({groupId:x,required:!I})}))}),Object(H.jsx)(O.a,{item:!0,container:!0,justifyContent:"center",xs:12,xl:3,children:dr(T("multiselect",v),!w,(function(e){l({groupId:x,replacement:!w})}))})]}),Object(H.jsx)(y.a,{children:C.map((function(e){return Object(H.jsxs)("div",{children:[Object(H.jsx)(di.a,{variant:"middle"}),Object(H.jsx)(lr,{group:n,optionId:e},e)]},e)}))})]})})),jr=["children","value","index"];function br(e){var n=e.children,t=e.value,i=e.index,o=Object(Lt.a)(e,jr);return Object(H.jsx)("div",Object(at.a)(Object(at.a)({role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},o),{},{children:t===i&&Object(H.jsx)(Rt.a,{sx:{p:3},children:n})}))}function mr(e){var n=e.children,t=e.title;return Object(H.jsx)(g.a,{title:t,children:n})}var Or={openInputDialog:Le,openConfirmDialog:rn,createSection:function(e){return function(n,t){return!ao(t(),e)&&(n(Co(e)),!0)}},changeSectionProperties:Io,deleteSection:function(e){return function(n,t){var i=eo(t(),e);if(i){var o=function(e){return e.optionGroupIds||[]}(i);o.forEach((function(e){n(Oo(e))})),n(yo(e))}else console.log("Could not delete section -> no section matches the id: "+e)}},createGroup:function(e,n,t,i,o){return function(r,a){var c=n.replace(" ","_");return!co(a(),c)&&(r(wo({sectionId:e,groupId:c,name:n,description:t,isRequired:i,isReplacementGroup:o})),!0)}},openAlert:me},hr=Object(P.b)((function(e){return{sections:_i(e),getOptionGroupsInSection:function(n){return no(e,n)},optionGroups:Bi(e),language:B(e)}}),Or)((function(e){var n=e.sections,t=e.getOptionGroupsInSection,o=e.optionGroups,r=e.openInputDialog,a=e.openConfirmDialog,c=e.createSection,u=e.createGroup,s=e.changeSectionProperties,l=e.deleteSection,g=e.openAlert,b=e.language,m=Object(i.useState)(0),O=Object(f.a)(m,2),h=O[0],v=O[1],x=function(e,n){return Object(H.jsxs)(Rt.a,{children:[Object(H.jsx)(p.a,{onClick:function(){return function(e){var n={groupName:{name:T("groupName",b),value:""},groupDescription:{name:T("groupDescription",b),value:""},groupIsRequired:{name:T("required",b),value:!1,isCheckBox:!0},groupIsMultiselect:{name:T("multiselect",b),value:!0,isCheckBox:!0}};r(T("newGroup",b),n,(function(n){var t=!n.groupIsMultiselect.value;u(e,n.groupName.value,n.groupDescription.value,n.groupIsRequired.value,t)||g("Group already exists!",pe)}))}(e)},children:T("addOptionGroup",b)}),Object(H.jsx)(ir,{title:"".concat(T("editSectionName",b)),propertyName:T("sectionName",b),oldValue:n,valueChangedCallback:function(n){s({sectionId:e,newName:n})},textButton:!0}),Object(H.jsx)(p.a,{onClick:function(){return function(e,n){a("".concat(T("removeSectionConfirmation",b),": ").concat(n,"?"),{},null,(function(){l(e),v(0)}))}(e,n)},children:T("removeSection",b)})]})};return Object(H.jsxs)(Rt.a,{sx:{width:"100%"},children:[Object(H.jsx)(d.a,{variant:"h3",children:T("options",b)}),Object(H.jsx)(Rt.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(H.jsxs)(Tt.a,{value:h,scrollButtons:"auto",allowScrollButtonsMobile:!0,variant:"scrollable",onChange:function(e,n){v(n)},"aria-label":"sectiontabs",children:[n.map((function(e,n){return Object(H.jsx)(Bt.a,Object(at.a)({label:e.name,wrapped:!0},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(n)),e.id)})),Object(H.jsx)(mr,{title:T("addSection",b),children:Object(H.jsx)(j.a,{onClick:function(){return function(){var e={sectionName:{name:T("sectionName",b),value:""}};r(T("newSection",b),e,(function(e){c(e.sectionName.value)||g("Section already exists!",pe)}))}()},children:Object(H.jsx)(nr.a,{})})})]})}),n.map((function(e,n){return Object(H.jsx)(br,{value:h,index:n,children:Object(H.jsxs)(fi.a,{minHeight:400,mb:10,children:[x(e.id,e.name),o.filter((function(n){return t(e.id).includes(n.id)})).map((function(n,t){return Object(H.jsx)(gr,{group:n,sectionId:e.id},n.id)}))]})},e.id)}))]})}));var vr={openAlert:me,openConfirmDialog:rn,changeInputLanguage:Ko,saveBuilderToStorage:function(){return function(e,n){$r(Mi(n()),"builder")}},finish:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n,t){var i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Jo()),i=Mi(t()),$r(bo,"builder"),Vt(i).then((function(e){n(Ho(e))})).catch((function(e){n(Yo(e))}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},reset:_o,loadingHandled:Zo},xr=Object(P.b)((function(e){return{isAdmin:Q(e),status:Ai(e),error:Li(e),inputLanguage:Ri(e),language:B(e)}}),vr)((function(e){var n=e.isAdmin,t=e.status,o=e.error,r=e.inputLanguage,a=e.openAlert,c=e.openConfirmDialog,s=e.changeInputLanguage,l=e.saveBuilderToStorage,f=e.finish,p=e.reset,b=e.loadingHandled,m=e.language,h=Object(u.f)();return Object(i.useEffect)((function(){"succeeded"===t&&(b(),a("Successfully created a new configuration!",ge),h("/"))}),[t,h,b,a]),Object(i.useEffect)((function(){o&&(b(),console.log("error:",o),a("Error: ".concat(o),pe))}),[o,b,a]),Object(i.useEffect)((function(){n||h("/")}),[n,h]),Object(i.useEffect)((function(){var e=setInterval((function(){console.log("Saving Builder..."),l()}),1e4);return function(){clearInterval(e)}}),[l]),Object(H.jsx)("div",{children:Object(H.jsxs)(O.a,{container:!0,justifyContent:"flex-end",children:[Object(H.jsx)(O.a,{item:!0,sx:{flexGrow:1},children:Object(H.jsx)(d.a,{variant:"h2",children:T("createNewConfiguration",m)})}),Object(H.jsxs)(O.a,{item:!0,display:"flex",alignItems:"center",sx:{paddingTop:2,justifySelf:"flex-end"},children:[Object(H.jsxs)(w.a,{sx:{width:150},children:[Object(H.jsx)(N.a,{id:"select-input-lang-label",children:"Input Language"}),Object(H.jsx)(S.a,{labelId:"select-input-lang-label",value:r,autoWidth:!0,onChange:function(e){var n=e.target.value;s(n)},input:Object(H.jsx)(Pi.a,{label:"Input Language"}),children:Object.keys(A).map((function(e,n){return Object(H.jsx)(D.a,{sx:{width:150},value:A[e],children:Object(H.jsx)(Gi.a,{primary:e})},n)}))})]}),Object(H.jsx)(g.a,{title:T("finishBuild",m),children:Object(H.jsx)(j.a,{variant:"contained",onClick:function(){c(T("createConfiguration",m),{},null,(function(){f()}))},children:Object(H.jsx)(Di.a,{})})}),Object(H.jsx)(g.a,{title:T("resetBuild",m),children:Object(H.jsx)(j.a,{variant:"contained",onClick:function(){c(T("resetBuildConfirmation",m),{},null,(function(){p()}))},children:Object(H.jsx)(qt.a,{})})})]}),Object(H.jsx)(O.a,{item:!0,container:!0}),Object(H.jsxs)(O.a,{container:!0,direction:"column",gap:2,children:[Object(H.jsx)(er,{}),Object(H.jsx)(cr,{}),Object(H.jsx)(hr,{})]})]})})})),Cr=t(520),Ir=t(521),yr=t(255),wr=t(517),Nr=t(524),Sr=t(543),Dr=t(559),Pr=t(529);var Gr=Object(P.b)((function(e,n){var t=qn(e,n.optionId);return{name:t.name,description:t.description}}),{})((function(e){var n=e.name,t=e.description;return Object(H.jsx)(Gi.a,{primary:n,secondary:t})}));var kr=Object(P.b)((function(e,n){return{allOptions:En(e,n.sectionId)}}),{})((function(e){var n=e.allOptions,t=e.selectedOptions;return t&&n?Object(H.jsx)(H.Fragment,{children:n.filter((function(e){return t.includes(e)})).map((function(e){return Object(H.jsx)(Pr.a,{sx:{paddingBottom:0,paddingTop:0},children:Object(H.jsx)(Gr,{optionId:e})},e)}))}):(console.log(t),Object(H.jsx)(H.Fragment,{}))}));var Mr={selectModel:Ht},Ar=Object(P.b)((function(e){return{selectedOptions:Ln(e),sections:An(e)}}),Mr)((function(e){var n=e.model,t=e.isSelected,o=void 0!==t&&t,r=e.disabled,a=void 0!==r&&r,c=e.selectedOptions,u=e.selectModel,s=e.sections,l=void 0===s?[]:s;n||o||(l=[]);var p=n?Rn(n):"Custom",g=n?function(e){return e.description||""}(n):"",j=n?Tn(n):o?c:[],b=Object(i.useState)(!1),m=Object(f.a)(b,2),O=m[0],h=m[1],v=o?"2px solid grey":O?"1px solid grey":"1px dashed grey";function x(e){h(e)}return Object(H.jsx)(Nr.a,{sx:{width:"100%",height:"100%"},onMouseLeave:function(){return x(!1)},onMouseOver:function(){return x(!0)},onClick:function(){a||u(p)},children:Object(H.jsxs)(Rt.a,{padding:2,sx:{width:"100%",border:v},children:[Object(H.jsxs)(Rt.a,{height:"80px",children:[Object(H.jsx)(d.a,{variant:"h4",children:p}),Object(H.jsx)(d.a,{variant:"body1",children:g})]}),Object(H.jsx)(Sr.a,{dense:!0,sx:{position:"relative",overflow:"auto",maxHeight:300,"& ul":{padding:0}},subheader:Object(H.jsx)("li",{}),children:l.map((function(e){return Object(H.jsx)("li",{children:Object(H.jsxs)("ul",{children:[Object(H.jsx)(Dr.a,{children:e.name}),Object(H.jsx)(kr,{sectionId:e.id,selectedOptions:j})]})},e.id)}))})]})})}));var Lr=Object(P.b)((function(e){return{models:Sn(e),selectedModel:Nn(e)}}),{})((function(e){var n=e.models,t=e.selectedModel,i=Object(wr.a)((function(e){return e.breakpoints.up("sm")}));return Object(H.jsxs)(y.a,{marginBottom:4,children:[Object(H.jsx)(d.a,{variant:"h3",children:"Models"}),i?Object(H.jsxs)(O.a,{container:!0,spacing:2,alignItems:"flex-start",children:[n.map((function(e,n){return Object(H.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(H.jsx)(Ar,{model:e,isSelected:e.name===t})},n)})),Object(H.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(H.jsx)(Ar,{model:null,isSelected:!t,disabled:!0})})]}):Object(H.jsx)(y.a,{sx:{overflowX:"scroll"},children:Object(H.jsxs)(fi.a,{direction:{xs:"row",md:"column"},justifyContent:"space-around",alignItems:"center",width:"".concat(90*(n.length+1),"vw"),children:[n.map((function(e,n){return Object(H.jsx)(y.a,{width:"80vw",children:Object(H.jsx)(Ar,{model:e,isSelected:e.name===t})},n)})),Object(H.jsx)(y.a,{width:"80vw",children:Object(H.jsx)(Ar,{model:null,isSelected:!t,disabled:!0})})]})})]})})),Rr=t(518);t(440);var Tr={clickedOption:function(e){return function(n,t){Wn(t(),e)?n($t(e)):n(Qt(e))}}},Br=Object(P.b)((function(e,n){var t=Jn(e,n.optionId),i=!0,o="",r=[];return t&&(i=!1,o=t[0],r=t[1].map((function(n){return Fn(e,n)}))),{option:qn(e,n.optionId),selected:Wn(e,n.optionId),price:Xn(e,n.optionId),selectable:i,disabledReason:o,problematicOptions:r,language:B(e)}}),Tr)((function(e){var n=e.optionId,t=e.clickedOption,i=e.option,o=e.selected,r=e.price,a=e.selectable,c=e.disabledReason,u=e.problematicOptions,s=e.language,l=!a;return Object(H.jsx)(g.a,{title:l?"".concat(T(c,s),": ").concat(u.join(", ")):"",placement:"top",TransitionComponent:Rr.a,arrow:!0,enterTouchDelay:200,children:Object(H.jsx)(Rt.a,{children:Object(H.jsx)(p.a,{style:{width:"100%",height:"100%"},variant:o?"contained":"outlined",disabled:l,onClick:function(){t(n)},children:Object(H.jsxs)(Rt.a,{className:"Option",children:[Object(H.jsx)(d.a,{variant:"h4",children:i.name}),Object(H.jsx)(d.a,{variant:"body1",children:i.description}),r?Object(H.jsxs)(d.a,{variant:"body2",children:[T("price",s),": ",r,"\u20ac"]}):Object(H.jsx)(H.Fragment,{})]})})})})})),Er=t(519);function qr(e){var n=e.errorMessage;return Object(H.jsx)(g.a,{title:n,placement:"top",arrow:!0,enterTouchDelay:200,children:Object(H.jsx)(Er.a,{})})}t(441);var Fr=Object(P.b)((function(e,n){var t=Zn(e,n.group.id);return{isValid:null===t,groupError:t,language:B(e)}}),{})((function(e){var n=e.group,t=e.isValid,i=e.groupError,o=e.language,r=n.name,a=n.description,c=n.optionIds;return Object(H.jsxs)(y.a,{className:"OptionGroup",marginBottom:1,padding:1,children:[Object(H.jsxs)(y.a,{className:"OptionGroupTitle",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(H.jsx)(d.a,{variant:"h3",children:r}),t?void 0:Object(H.jsx)(qr,{errorMessage:T(i,o)})]}),Object(H.jsx)(d.a,{variant:"subtitle2",children:a}),Object(H.jsx)(y.a,{className:"OptionContainer",children:c.map((function(e){return Object(H.jsx)(Br,{optionId:e},e)}))})]})})),Wr=["children","value","index"];function zr(e){var n=e.children,t=e.value,i=e.index,o=Object(Lt.a)(e,Wr);return Object(H.jsx)("div",Object(at.a)(Object(at.a)({role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},o),{},{children:t===i&&Object(H.jsx)(Rt.a,{sx:{p:3},children:n})}))}function Vr(){var e=Object(P.c)((function(e){return e.configuration})).configuration,n=Object(i.useState)(0),t=Object(f.a)(n,2),o=t[0],r=t[1];return Object(H.jsxs)(Rt.a,{sx:{width:"100%"},children:[Object(H.jsx)(Rt.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(H.jsx)(Tt.a,{value:o,scrollButtons:"auto",allowScrollButtonsMobile:!0,variant:"scrollable",onChange:function(e,n){r(n)},"aria-label":"sectiontabs",children:e.optionSections.map((function(e,n){return Object(H.jsx)(Bt.a,Object(at.a)({label:e.name,wrapped:!0},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(n)),e.id)}))})}),e.optionSections.map((function(n,t){return Object(H.jsx)(zr,{value:o,index:t,children:e.optionGroups.filter((function(e){return n.optionGroupIds.includes(e.id)})).map((function(e,n){return Object(H.jsx)(Fr,{group:e},e.id)}))},n.id)}))]})}t(442);var Ur={resetConfig:function(){return function(e,n){try{var t=wn(n());e(Ht(t))}catch(i){console.log("Can not reset -> no configuration found")}}},openConfirm:rn,openInputDialog:Le,openLogInDialog:Fe,openAlert:me},Kr=Object(P.b)((function(e){return{configurationName:Dn(e),configurationDescription:Pn(e),configurationImages:Gn(e),configurationId:Cn(e),selectedOptions:Ln(e),price:Qn(e),model:Nn(e),language:B(e),isLoggedIn:X(e)}}),Ur)((function(e){var n=e.isLoggedIn,t=e.configurationName,i=e.configurationDescription,o=e.configurationImages,r=e.configurationId,a=e.selectedOptions,c=e.price,s=e.model,l=e.isLoading,f=e.resetConfig,p=e.openConfirm,b=e.openInputDialog,m=e.openLogInDialog,h=e.openAlert,v=e.language,x=Object(u.f)();function C(){if(n){var e={configurationName:{name:T("configurationName",v),value:""}},t=T("saveConfiguration",v);b(t,e,(function(e){var n=e.configurationName.value;(function(e,n,t){return new Promise((function(i,o){var r={savedName:n,options:t};F.a.post("".concat(W,"/account/configurations/").concat(e),r).then((function(e){i(e.data)})).catch((function(e){o("Could not save configuration!")}))}))})(r,n,a).then((function(e){h("".concat(T("savedConfiguration",v),": ").concat(n,"!"),ge),console.log(e)})).catch((function(e){h("Error: ".concat(e),pe),console.log(e)}))}))}else m()}function I(){p(T("resetConfigurationPrompt",v),{},null,(function(){f()}))}function y(){n?p("",{},Object(H.jsx)(hi,{configurationId:r,selectedOptions:a}),(function(){!function(){var e={configurationName:{name:T("configurationName",v),value:""}},n=T("finishConfiguration",v);b(n,e,(function(e){var n=e.configurationName.value;(function(e,n,t,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return new Promise((function(r,a){var c={configurationName:n,options:t,price:i,model:o};console.log(c),F.a.post("".concat(W,"/products/").concat(e),c).then((function(e){r(e.data)})).catch((function(e){a("API not reachable")}))}))})(r,n,a,c,s).then((function(e){h("".concat(T("successOrderedConfiguration",v),"!"),ge),console.log(e),x("/account/ordered")})).catch((function(e){h("Error: ".concat(e),pe),console.log(e)}))}))}()})):m()}return Object(H.jsx)("div",{children:l?Object(H.jsx)(kt,{}):Object(H.jsxs)("div",{children:[Object(H.jsxs)(O.a,{container:!0,justifyContent:"flex-end",children:[Object(H.jsxs)(Rt.a,{sx:{flexGrow:1},children:[Object(H.jsxs)(d.a,{variant:"h2",children:[T("configureYour",v)," ",t]}),Object(H.jsx)(d.a,{variant:"subtitle1",children:i})]}),Object(H.jsxs)(O.a,{item:!0,sx:{paddingTop:2,justifySelf:"flex-end"},children:[Object(H.jsx)(g.a,{title:T("saveConfiguration",v),children:Object(H.jsx)(j.a,{variant:"contained",onClick:C,children:Object(H.jsx)(Cr.a,{})})}),Object(H.jsx)(g.a,{title:T("resetConfiguration",v),children:Object(H.jsx)(j.a,{variant:"contained",onClick:I,children:Object(H.jsx)(Ir.a,{})})}),Object(H.jsx)(g.a,{title:T("finishConfiguration",v),children:Object(H.jsx)(j.a,{variant:"contained",onClick:y,children:Object(H.jsx)(Di.a,{})})})]})]}),Object(H.jsx)(Rt.a,{mb:4,children:Object(H.jsx)(yr.Slide,{easing:"ease",children:o.map((function(e,n){return Object(H.jsx)("div",{className:"each-slide",children:Object(H.jsx)("div",{style:{height:"60vw",maxHeight:"600px",backgroundImage:"url(".concat(Qr(e),")"),backgroundSize:"cover",backgroundPosition:"center"}})},n)}))})}),Object(H.jsx)(Lr,{}),Object(H.jsx)(O.a,{container:!0,children:Object(H.jsx)(Vr,{})})]})})}));var _r={fetchConfiguration:Kt},Jr=Object(P.b)((function(e){return{status:e.configuration.status,error:e.configuration.error,language:B(e)}}),_r)((function(e){var n=e.fetchConfiguration,t=e.status,o=e.error,r=e.language,a=Object(u.g)().id;function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(H.jsx)("div",{children:Object(H.jsx)(Kr,{isLoading:e})})}return Object(i.useEffect)((function(){a&&n(a)}),[n,a]),Object(H.jsx)("div",{children:function(){switch(t){case"loading":default:return c(!0);case"succeeded":return c();case"failed":return e=o,Object(H.jsxs)("div",{children:[Object(H.jsx)(d.a,{variant:"h2",children:T("failedToLoadConfiguration",r)}),Object(H.jsx)(d.a,{vairant:"body1",children:T(e,r)})]})}var e}()})})),Hr=t(540),Yr=t(172),Zr=Object(Hr.a)(Object(Yr.a)());Zr.palette=Object(at.a)({},Zr.palette),Zr.typography=Object(at.a)({},Zr.typography);var Xr=Zr;function Qr(e){var n="";try{n=t(443)("./".concat(e.replace("./",""))).default}catch(i){console.log("image '".concat(e,"' no found!")),n=t(250).default}finally{return n}}function $r(e,n){try{e=JSON.stringify(e),localStorage.setItem(n,e)}catch(t){console.log("Can not save the to local storage!"),console.log(t)}}function ea(e){var n=null;try{n=JSON.parse(localStorage.getItem(e))}catch(t){console.log("Can not load from local storage!"),console.log(t)}return n}var na=function(){return Object(H.jsx)(s.a,{theme:Xr,children:Object(H.jsx)(l.a,{sx:{padding:0},maxWidth:"xl",className:"App",children:Object(H.jsxs)(c.a,{children:[Object(H.jsx)(_e,{}),Object(H.jsx)(ot,{}),Object(H.jsx)(dt,{}),Object(H.jsx)(mt,{}),Object(H.jsxs)(u.c,{children:[Object(H.jsx)(u.a,{exact:!0,path:"/",element:Object(H.jsx)(At,{})}),Object(H.jsx)(u.a,{exact:!0,path:"/account/:tab",element:Object(H.jsx)(Si,{})}),Object(H.jsx)(u.a,{exact:!0,path:"/account",element:Object(H.jsx)(Si,{})}),Object(H.jsx)(u.a,{exact:!0,path:"/configuration/:id",element:Object(H.jsx)(Jr,{})}),Object(H.jsx)(u.a,{exact:!0,path:"/create",element:Object(H.jsx)(xr,{})}),Object(H.jsx)(u.a,{path:"*",element:Object(H.jsx)(d.a,{variant:"h2",children:"Not Found!"})})]})]})})})},ta=Object(E.a)({reducer:{product:Gt,configuration:li,language:J,confirmation:sn,user:De,inputDialog:qe,alert:xe,builder:Xo}}),ia=localStorage.jwtToken;ia&&(z(ia),ta.dispatch(ye(se.a.decode(ia))));var oa=localStorage.language;oa&&(console.log("storage lang:",oa),ta.dispatch(K(oa))),a.a.render(Object(H.jsx)(o.a.StrictMode,{children:Object(H.jsx)(P.a,{store:ta,children:Object(H.jsx)(na,{})})}),document.getElementById("root"))}},[[447,1,2]]]);
//# sourceMappingURL=main.f89ac7aa.chunk.js.map