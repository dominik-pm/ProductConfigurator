(this["webpackJsonpconfigurator-frontend"]=this["webpackJsonpconfigurator-frontend"]||[]).push([[0],{248:function(e){e.exports=JSON.parse('{"AUTHENTICATION_FAILED":"Authentication Failed","groupErrorAtLeastOne":"At least one option has to be selected!","optionRequirementsNotMet":"Other options are required","optionHasIncompatibilities":"Not compatible with","NO_CONFIGURATION_FOUND":"no configuration found","CONFIGURATION_INVALID":"configuration invalid","productConfigurator":"Product Configurator","failedToLoadProducts":"Failed to load products!","loadingProducts":"Loading Products","noProductsFound":"No products found","invalidProductId":"Invalid Product Id","successConfigurationCreated":"Successfully created a new configuration!","successConfigurationDeleted":"Successfully deleted the configuration!","confirmationPrompt":"Confirmation Prompt","cancel":"cancel","confirm":"confirm","configureYour":"Configure your","failedToLoadConfiguration":"Failed to load configuration!","price":"price","basePrice":"Base Price","priceList":"price list","saveConfiguration":"Save Configuration","configurationName":"Configuration Name","resetConfiguration":"Reset Configuration","finishConfiguration":"Order Configuration","resetConfigurationPrompt":"Do you really want to reset your current configuration?","deleteConfigurationPrompt":"Do you really want to delete this configurator? It will not be possible to make any more configurations with this product!","youWantToSelect":"You want to select","youWantToRemove":"You want to remove","youAlsoNeedToSelect":"You also need to select","theseOptionsWillBeRemoved":"These options will be removed","login":"Login","logout":"Logout","register":"Register","submit":"submit","savedConfiguration":"Saved configuration","successOrderedConfiguration":"Successfully ordered the configuration","passwordDontMatch":"Passwords do not match","successfullyRemoved":"Successfully removed","savedConfigurations":"Saved Configurations","orderedConfigurations":"Ordered Configurations","allOrderedConfigurations":"All Ordered Configurations","createConfiguration":"Create Configuration","createNewConfiguration":"Create a new Configuration","editConfiguration":"Edit the Configuration","productProperties":"Product Properties","images":"Images","productImages":"Product Images","finishBuild":"Finish New Configuration","resetBuild":"Reset","resetBuildConfirmation":"Do you really want to reset this configuration?","removeModelConfirmation":"Do you really want to remove the model","removeSectionConfirmation":"Do you really want to remove the section","removeGroupConfirmation":"Do you really want to remove the option group","removeOptionConfigrmation":"Do you really want to remove the option","addSection":"Add Section","newSection":"New Section","removeSection":"Remove Section","addModel":"Add Model","addOption":"Add Option","addOptionGroup":"Add Optiongroup","newGroup":"New Group","newOption":"New Option","remove":"Remove","optionName":"Option Name","editOptionName":"Edit Option Name","optionDescription":"Option Description","editOptionDescription":"Edit Option Description","groupName":"Group Name","editGroupName":"Edit Group Name","groupDescription":"Group Description","editGroupDescription":"Edit Group Description","sectionName":"Section Name","editSectionName":"edit section name","models":"Models","defaultModel":"Default Model","modelName":"Model Name","editModelName":"Edit Model Name","modelDescription":"Model Description","editModelDescription":"Edit Model Description","options":"Options","description":"Description","requirements":"requirements","incompatibilities":"incompatibilities","optionPrice":"option price","required":"required","multiselect":"multiselect","edit":"Edit"}')},249:function(e){e.exports=JSON.parse('{"AUTHENTICATION_FAILED":"Authentifizierung Fehlgeschlagen","groupErrorAtLeastOne":"Mindestens eine Option muss ausgew\xe4hlt werden!","optionRequirementsNotMet":"Andere Optionen sind vorausgesetzt","optionHasIncompatibilities":"Nicht kompatibel mit","NO_CONFIGURATION_FOUND":"Keine Konfiguration gefunden","CONFIGURATION_INVALID":"Konfiguration enth\xe4lt Fehler","productConfigurator":"Produkt Konfigurator","failedToLoadProducts":"Failed to load products!","loadingProducts":"Loading Products","noProductsFound":"No products found","invalidProductId":"Product Id ung\xfcltig","successConfigurationCreated":"Konfiguration erfolgreich erstellt!","successConfigurationDeleted":"Konfiguration erfolgreich gel\xf6scht!","confirmationPrompt":"\xdcberpr\xfcfen","cancel":"Abbrechen","confirm":"Best\xe4tigen","configureYour":"Konfiguriere dein","failedToLoadConfiguration":"Laden der Konfiguration fehlgeschlagen!","price":"Preis","basePrice":"Grundpreis","priceList":"Preis Liste","saveConfiguration":"Konfiguration Speichern","configurationName":"Name der Konfiguration","resetConfiguration":"Konfiguration Zur\xfccksetzen","finishConfiguration":"Konfiguration Bestellen","resetConfigurationPrompt":"M\xf6chtest du wirklich die Konfiguration zur\xfccksetzen?","deleteConfigurationPrompt":"M\xf6chtest du wirklich diesen Konfigurator l\xf6schen? Dieses Produkt kann dann nicht mehr konfiguriert werden!","youWantToSelect":"Du m\xf6chtest diese Option ausw\xe4hlen","youWantToRemove":"Du m\xf6chtest diese Option entfernen","youAlsoNeedToSelect":"Dazu ben\xf6tigst du au\xdferdem","theseOptionsWillBeRemoved":"Dazu m\xfcssen diese Optionen entfernt werden","login":"Einloggen","logout":"Ausloggen","register":"Registrieren","submit":"Best\xe4tigen","savedConfiguration":"Konfiguration gespeichert","successOrderedConfiguration":"Individuelle Konfiguration wurde bestellt","passwordDontMatch":"Passw\xf6rter sind unterschiedlich","successfullyRemoved":"Erfolgreich gel\xf6scht","savedConfigurations":"Gespeicherte Konfigurationen","orderedConfigurations":"Bestellte Konfigurationen","allOrderedConfigurations":"Alle bestellten Konfigurationen","createConfiguration":"Konfiguration erstellen","createNewConfiguration":"Neue Konfiguration erstellen","editConfiguration":"Konfiguration bearbeiten","productProperties":"Produkt Eigenschaften","images":"Bilder","productImages":"Produktbilder","finishBuild":"Neue Konfiguration fertigstellen","resetBuild":"Zur\xfccksetzen","resetBuildConfirmation":"Wollen Sie diese Konfiguration wirklich zur\xfccksetzen?","removeModelConfirmation":"Wollen Sie dieses Modell wirklich l\xf6schen","removeSectionConfirmation":"Wolle Sie diesen Bereich wirklich l\xf6schen","removeGroupConfirmation":"Wollen Sie die Optionsgruppe wirklich entfernen","removeOptionConfigrmation":"Wollen Sie die Option wirklich entfernen","addSection":"Bereich hinzuf\xfcgen","newSection":"Neuer Bereich","removeSection":"Bereich l\xf6schen","addModel":"Modell hinzuf\xfcgen","addOption":"Option hinzuf\xfcgen","addOptionGroup":"Optionsgruppe hinzuf\xfcgen","newGroup":"Neue Gruppe","newOption":"Neue Option","remove":"L\xf6schen","optionName":"Optionsname","editOptionName":"Optionsname bearbeiten","optionDescription":"Optionsbeschreibung","editOptionDescription":"Optionsbeschreibung bearbeiten","groupName":"Gruppenname","editGroupName":"Gruppenname bearbeiten","groupDescription":"Gruppenbeschreibung","editGroupDescription":"Gruppenbeschreibung bearbeiten","sectionName":"Bereichsname","editSectionName":"Bereichsname bearbeiten","models":"Modelle","defaultModel":"Standardmodell","modelName":"Modellname","editModelName":"Modellname bearbeiten","modelDescription":"Modellbeschreibung","editModelDescription":"Modellbeschreibung bearbeiten","options":"Optionen","description":"Beschriebung","requirements":"Voraussetzungen","incompatibilities":"Inkompatibilit\xe4ten","optionPrice":"Optionspreis","required":"Erforderlich","multiselect":"Multiselect","edit":"Bearbeiten"}')},250:function(e){e.exports=JSON.parse('{"AUTHENTICATION_FAILED":"\xc9chec de l\'authentification","groupErrorAtLeastOne":"Il faut choisir au moins une option !","optionRequirementsNotMet":"D\'autres options sont n\xe9cessaires","optionHasIncompatibilities":"Non compatible avec","NO_CONFIGURATION_FOUND":"aucune configuration trouv\xe9e","CONFIGURATION_INVALID":"aucune configuration trouv\xe9e","productConfigurator":"Configurateur de Produit","failedToLoadProducts":"\xc9chec du chargement des produits!","loadingProducts":"Produits de chargement","noProductsFound":"Aucun produit trouv\xe9","confirmationPrompt":"demande de confirmation","cancel":"annuler","confirm":"confirmer","configureYour":"Configurer votre","failedToLoadConfiguration":"\xc9chec du chargement de la configuration!","price":"prix","priceList":"liste de prix","youWantToSelect":"Vous voulez s\xe9lectionner","youWantToRemove":"Vous voulez supprimer","youAlsoNeedToSelect":"Vous devez \xe9galement s\xe9lectionner","theseOptionsWillBeRemoved":"Ces options seront supprim\xe9es"}')},309:function(e,n){},311:function(e,n){},326:function(e,n){},328:function(e,n){},356:function(e,n){},358:function(e,n){},359:function(e,n){},364:function(e,n){},366:function(e,n){},372:function(e,n){},374:function(e,n){},393:function(e,n){},405:function(e,n){},408:function(e,n){},435:function(e,n,t){},436:function(e,n,t){},438:function(e,n,t){"use strict";t.r(n),n.default=t.p+"static/media/notfound.b2542792.jpg"},439:function(e,n,t){"use strict";t.r(n);var i=t(1),o=t.n(i),r=t(53),a=t.n(r),c=t(64),u=t(18),s=t(521),l=t(547),d=t(106),f=t(11),p=t(525),g=t(512),j=t(535),b=t(536),m=t(537),O=t(526),h=t(527),v=t(492),x=t(494),I=t(495),C=t(496),y=t(486),w=t(530),N=t(519),S=t(513),D=t(524),P=t(13),G=t(248),k=t(249),A=t(250),M={EN:"en",DE:"de",FR:"fr"},L=M.EN,R={en:G,de:k,fr:A},T=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,t=R[n];if(t){var i=t[e];return i||(R[L][e]?R[L][e]:e)}console.log("Trying to translate ".concat(e," to a language that doesn't exist: '").concat(n,"'"))},E=function(e){return e.language.language},B=t(31),q=t(33),F=t.n(q),W="http://localhost:5187";F.a.defaults.timeout=5e3;var z=function(e){e?F.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete F.a.defaults.headers.common.Authorization},V={language:L},U=Object(B.b)({name:"language",initialState:V,reducers:{changedLanguage:function(e,n){console.log("Changed language to: "+n.payload),e.language=n.payload}}}),K=function(e){return function(n){Object.values(M).includes(e)||(console.log("language '".concat(e,"' does not exist!")),e=L),localStorage.setItem("language",e),function(e){e?F.a.defaults.headers.common["Accept-Language"]=e:delete F.a.defaults.headers.common["Accept-Language"]}(e),n(J(e))}},J=U.actions.changedLanguage,H=U.reducer,_=t(0);var Y={setLanguage:K},Z=Object(P.b)((function(e){return{language:E(e)}}),Y)((function(e){var n=e.language,t=e.setLanguage;return Object(_.jsx)(y.a,{sx:{minWidth:120},children:Object(_.jsxs)(w.a,{variant:"standard",fullWidth:!0,children:[Object(_.jsx)(N.a,{id:"select-lang-label",children:"Language"}),Object(_.jsxs)(S.a,{labelId:"select-lang-label",value:n,autoWidth:!0,label:"Lang",onChange:function(e){t(e.target.value)},children:[Object(_.jsx)(D.a,{value:M.EN,children:"English"}),Object(_.jsx)(D.a,{value:M.DE,children:"Deutsch"}),Object(_.jsx)(D.a,{value:M.FR,children:"Fran\xe7ais"})]})]})})})),X=function(e){return e.user.isAuthenticated},Q=function(e){return e.user.user.admin||!1},$=function(e){return oe(e).userName||""},ee=function(e){return oe(e).userEmail||""},ne=function(e){return e.user.savedConfigurations},te=function(e){return e.user.orderedConfigurations},ie=function(e){return e.user.allOrderedConfigurations},oe=function(e){return e.user.user},re=t(23),ae=t.n(re),ce=t(39),ue=t(124),se=t.n(ue),le=function(e,n,t){return new Promise((function(i,o){var r={savedName:n,options:t};F.a.post("".concat(W,"/account/configurations/").concat(e),r).then((function(e){i(e.data)})).catch((function(e){o("Could not save configuration!")}))}))},de=function(){return new Promise((function(e,n){F.a.get("".concat(W,"/account/configurations/")).then((function(n){e(n.data)})).catch((function(e){n("Could not get saved configurations!")}))}))},fe=function(){return new Promise((function(e,n){F.a.get("".concat(W,"/account/allorderedconfigurations/")).then((function(n){e(n.data)})).catch((function(e){n("Could not get all ordered configurations!")}))}))},pe=function(e,n){return function(e,n){return new Promise((function(n,t){"admin"!==e&&"user"!==e&&t("INVALID CREDENTIALS"),setTimeout((function(){var t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InRlc3R1c2VyIiwidXNlckVtYWlsIjoidGVzdHVzZXJAdGVzdC1mdWNocy5jb20iLCJhZG1pbiI6ZmFsc2UsImlhdCI6MTYxNzQ0OTAyMn0.mNE0pAsXlfADoB9xvvPbyOqo4cO_nPJa2aCrUIeXMRY";"admin"===e&&(t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6ImFkbWluIiwidXNlckVtYWlsIjoiY29uZmlndXJhdG9yLWFkbWluQHRlc3QtZnVjaHMuY29tIiwiYWRtaW4iOnRydWUsImlhdCI6MTYxNzQ0OTAyMn0.c3_WbsSenWEZTfCnesqIOz1067u2xL1FoE_efepoaBI");var i=se.a.decode(t);n({token:t,user:i})}),250)}))}(e)};var ge="closed",je="open",be="error",me="success",Oe={status:ge,alerts:[]},he=Object(B.b)({name:"alert",initialState:Oe,reducers:{addAlert:function(e,n){e.status=je,e.alerts.push(n.payload)},closeAlert:function(e){e.alerts.shift(),0===e.alerts.length&&(e.status=ge)}}}),ve=function(e,n){return function(){var t=Object(ce.a)(ae.a.mark((function t(i){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i(Ie({message:e,type:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},xe=he.actions,Ie=xe.addAlert,Ce=xe.closeAlert,ye=he.reducer,we=Object(B.b)({name:"user",initialState:{isAuthenticated:!1,user:{},savedConfigurations:[],orderedConfigurations:[],allOrderedConfigurations:[]},reducers:{setCurrentUser:function(e,n){console.log("getting user:",n.payload),e.user=n.payload,Object.keys(n.payload).length>0?e.isAuthenticated=!0:(e.isAuthenticated=!1,e.savedConfigurations=[],e.orderedConfigurations=[],e.allOrderedConfigurations=[])},setSavedConfigurations:function(e,n){console.log("setting saved configurations:",n.payload),e.savedConfigurations=n.payload},setOrderedConfigurations:function(e,n){console.log("setting ordered configurations:",n.payload),e.orderedConfigurations=n.payload},setAllOrderedConfigurations:function(e,n){e.allOrderedConfigurations=n.payload}}}),Ne=we.actions,Se=Ne.setCurrentUser,De=Ne.setSavedConfigurations,Pe=Ne.setOrderedConfigurations,Ge=Ne.setAllOrderedConfigurations,ke=we.reducer,Ae=function(e){return e.inputDialog.open},Me=function(e){return e.inputDialog.data},Le=function(e){return e.inputDialog.headerMessage},Re=Object(B.b)({name:"inputDialog",initialState:{open:!1,headerMessage:"",data:{}},reducers:{show:function(e,n){var t=n.payload,i=t.headerMessage,o=t.data;e.headerMessage=i,e.data=o,e.open=!0},close:function(e,n){e.open=!1,e.headerMessage="",e.data={}},setData:function(e,n){e.data=n.payload}}}),Te=null,Ee=function(e,n,t){return function(i,o){Ae(o())?console.log("Input Dialog is already open!"):(Te=t,i(qe({headerMessage:e,data:n})))}},Be=Re.actions,qe=Be.show,Fe=Be.close,We=Be.setData,ze=Re.reducer,Ve=function(){return function(e){e(Ee("Login",{username:{name:"Username",value:""},password:{name:"Password",value:"",isPassword:!0}},(function(n){var t;e((t=n.username.value,n.username.password,function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe(t).then((function(e){var t=e.token,i=e.user;localStorage.setItem("jwtToken",t),z(t),n(Se(i)),n(ve("Logged In!",me))})).catch((function(e){n(ve(e,be))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))})))}};var Ue={openLogin:Ve},Ke=Object(P.b)((function(e){return{language:E(e)}}),Ue)((function(e){var n=e.openLogin,t=e.language,i=e.size,o=void 0===i?"small":i;return Object(_.jsx)(p.a,{size:o,variant:"contained",onClick:n,children:T("login",t)})}));var Je={openInputDialog:Ee,register:function(e,n,t){return function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise((function(e,n){n("Not implemented")})).then((function(e){n(ve("Registered!",me))})).catch((function(e){n(ve(e,be))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},openAlert:ve},He=Object(P.b)((function(e){return{language:E(e)}}),Je)((function(e){var n=e.openInputDialog,t=e.register,i=e.openAlert,o=e.language,r=e.size,a=void 0===r?"small":r;return Object(_.jsx)(p.a,{size:a,variant:"contained",onClick:function(){n("Register",{username:{name:"Username",value:""},email:{name:"Email",value:"",isEmail:!0},password:{name:"Password",value:"",isPassword:!0},confirmPassword:{name:"Confirm Password",value:"",isPassword:!0}},(function(e){e.confirmPassword.value===e.password.value?t(e.username.value,e.email.value,e.username.password):i("".concat(T("passwordDontMatch",o),"!"),be)}))},children:T("register",o)})}));var _e={openInputDialog:Ee,logout:function(){return function(e){localStorage.removeItem("jwtToken"),z(!1),e(Se({}))}}},Ye=Object(P.b)((function(e){return{language:E(e),isLoggedIn:X(e),isAdmin:Q(e),username:$(e)}}),_e)((function(e){var n=e.language,t=e.isLoggedIn,o=e.isAdmin,r=e.username,a=e.logout,c=Object(u.f)(),s=Object(i.useState)(!1),l=Object(f.a)(s,2),w=l[0],N=l[1],S=Object(i.useState)(!1),D=Object(f.a)(S,2),P=D[0],G=D[1];Object(i.useEffect)((function(){var e=function(){return window.innerWidth<900?G(!0):G(!1)};return e(),window.addEventListener("resize",(function(){return e()})),function(){window.removeEventListener("resize",(function(){return e()}))}}),[]);var k=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(p.a,{size:"large",variant:"contained",startIcon:Object(_.jsx)(v.a,{}),onClick:function(){return c("/user")},children:Object(_.jsx)(d.a,{variant:"body1",sx:{maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis"},children:r})}),Object(_.jsx)(g.a,{title:T("logout",n),children:Object(_.jsx)(j.a,{size:"large",variant:"contained",onClick:function(){return a()},children:Object(_.jsx)(x.a,{})})})]}),A=Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(p.a,{size:"large",variant:"contained",onClick:function(){c("/create")},children:T("createConfiguration",n)})}),M=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Ke,{size:"large"}),Object(_.jsx)(He,{size:"large"})]}),L=Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(j.a,{onClick:function(){return c("/")},children:Object(_.jsx)(I.a,{sx:{color:"white"}})})});function R(){return Object(_.jsxs)(_.Fragment,{children:[o?A:"",t?k:M]})}function E(e){N(e)}return Object(_.jsx)("header",{children:Object(_.jsxs)(y.a,{sx:{flexGrow:1},children:[Object(_.jsx)(d.a,{align:"center",marginBottom:1,variant:"h1",children:T("productConfigurator",n)}),P?Object(_.jsx)(b.a,{position:"static",children:Object(_.jsxs)(m.a,{children:[Object(_.jsxs)(O.a,{container:!0,direction:"row",children:[Object(_.jsx)(j.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){return E(!0)},children:Object(_.jsx)(C.a,{fontSize:"large"})}),L,Object(_.jsx)(y.a,{sx:{flexGrow:1}}),Object(_.jsx)(Z,{})]}),Object(_.jsx)(h.a,{anchor:"top",open:w,onClose:function(){return E(!1)},children:Object(_.jsx)(O.a,{container:!0,direction:"column",padding:5,gap:2,children:R()})})]})}):Object(_.jsx)(b.a,{position:"static",children:Object(_.jsx)(m.a,{variant:"regular",children:Object(_.jsxs)(O.a,{justifyContent:"flex-end",container:!0,gap:2,children:[L,Object(_.jsx)(Z,{}),Object(_.jsx)(y.a,{sx:{flexGrow:1}}),R()]})})})]})})})),Ze=t(539),Xe=t(541),Qe=t(540),$e=t(538),en=t(497),nn=function(e){return e.confirmation.open},tn=function(e){return e.confirmation.message},on=function(e){return e.confirmation.data},rn=Object(B.b)({name:"confirmation",initialState:{open:!1,message:"",data:{}},reducers:{show:function(e,n){var t=n.payload,i=t.message,o=t.data;e.open=!0,e.message=i,e.data=o},close:function(e,n){e.open=!1,e.message="",e.data={}}}}),an=null,cn=null,un=function(e,n,t,i){return function(o,r){nn(r())?console.log("Confirmation Dialog is already open!"):(an=i,cn=t,o(ln({message:e,data:n})))}},sn=rn.actions,ln=sn.show,dn=sn.close,fn=rn.reducer,pn=t(77),gn=t(76),jn=t(16),bn=t(27),mn="groupErrorAtLeastOne",On="optionRequirementsNotMet",hn="optionHasIncompatibilities",vn=function(e,n){return n},xn=function(e,n){return n},In=function(e){return e.configuration.configuration.rules.incompatibilities},Cn=function(e){return e.configuration.configuration.rules.requirements},yn=function(e){return e.configuration.status},wn=function(e){return e.configuration.configuration.configId},Nn=function(e){var n;return(null===(n=e.configuration.configuration.rules)||void 0===n?void 0:n.basePrice)||0},Sn=function(e){var n;return(null===(n=e.configuration.configuration.rules)||void 0===n?void 0:n.priceList)||[]},Dn=function(e){var n;return(null===(n=e.configuration.configuration.rules)||void 0===n?void 0:n.defaultModel)||""},Pn=function(e){return e.configuration.selectedModel},Gn=function(e){var n;return(null===(n=e.configuration.configuration.rules)||void 0===n?void 0:n.models)||[]},kn=function(e){return e.configuration.configuration.name},An=function(e){return e.configuration.configuration.description},Mn=function(e){return e.configuration.configuration.images},Ln=function(e){return e.configuration.configuration.options},Rn=function(e){return e.configuration.configuration.optionGroups},Tn=function(e){return e.configuration.configuration.optionSections},En=function(e){return e.configuration.selectedOptions||[]},Bn=function(e){return e.name||""},qn=function(e){return e.optionIds||[]},Fn=Object(bn.a)([Gn,function(e,n){return n}],(function(e,n){var t=e.find((function(e){return e.name===n}));return console.log("model: ",t),console.log("model options: ",t.optionIds),t?t.optionIds:[]})),Wn=Object(bn.a)([function(e,n){return n},Rn,Tn],(function(e,n,t){var i=t.find((function(n){return n.id===e})),o=n.filter((function(e){return i.optionGroupIds.includes(e.id)})),r=[];return o.forEach((function(e){r.push.apply(r,Object(jn.a)(e.optionIds))})),r})),zn=Object(bn.a)([Ln,xn],(function(e,n){return e.find((function(e){return e.id===n}))})),Vn=Object(bn.a)([zn,xn],(function(e,n){return e.name})),Un=Object(bn.a)([En,xn],(function(e,n){return e.includes(n)})),Kn=Object(bn.a)([function(e){return e.configuration.configuration.rules.replacementGroups},xn],(function(e,n){for(var t=0,i=Object.keys(e);t<i.length;t++){var o=e[i[t]];if(o.includes(n))return o}return null})),Jn=Object(bn.a)([In,xn],(function(e,n){return e[n]})),Hn=Object(bn.a)([En,Jn],(function(e,n){if(!n)return[!0,null];var t=!0,i=[];return n.forEach((function(n){e.includes(n)&&(t=!1,i.push(n))})),[t,i]})),_n=Object(bn.a)([Cn,xn],(function(e,n){return e[n]})),Yn=Object(bn.a)([En,_n],(function(e,n){if(!n)return[!0,null];var t=!0,i=[];return n.forEach((function(n){e.includes(n)||(t=!1,i.push(n))})),[t,i]})),Zn=Object(bn.a)([Yn,Hn],(function(e,n){return e[0]?n[0]?null:[hn,n[1]]:[On,e[1]]})),Xn=Object(bn.a)([function(e){return e.configuration.configuration.rules.groupRequirements},vn],(function(e,n){var t=e[n];return t||[]})),Qn=Object(bn.a)([Rn,vn],(function(e,n){var t=e.find((function(e){return e.id===n}));return t||(console.log("Can not get is group valid because there is no group with the id"),null)})),$n=Object(bn.a)([Qn,Xn,Rn,En],(function(e,n,t,i){if(!e.required)return null;var o=t.filter((function(e){return n.includes(e.id)})),r=!0;if(o.forEach((function(e){var n=!1;e.optionIds.forEach((function(e){i.includes(e)&&(n=!0)})),n||(r=!1)})),!r)return null;var a=!1;return e.optionIds.forEach((function(e){i.includes(e)&&(a=!0)})),a?null:mn})),et=Object(bn.a)([Sn,xn],(function(e,n){return e[n]})),nt=Object(bn.a)([En,Nn,Sn],(function(e,n,t){return e.reduce((function(e,n){return t[n]?e+t[n]:e}),n)})),tt=Object(bn.a)([En,xn,Cn],(function(e,n,t){var i=ot(n,t);return i=i.filter((function(n){return e.includes(n)}))})),it=Object(bn.a)([En,xn,In],(function(e,n,t){var i=ot(n,t);return i=i.filter((function(n){return e.includes(n)}))}));function ot(e){for(var n=[],t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];for(var r=0,a=i;r<a.length;r++){var c=a[r];for(var u in c)c[u].includes(e)&&n.push(u)}return n}var rt=Object(P.b)((function(e,n){var t=zn(e,n.optionId);return{name:t.name,description:t.description,image:t.image}}),{})((function(e){e.optionId;var n=e.highlight,t=e.name,i=(e.description,e.image,"none");return"add"===n&&(i=pn.a[500]),"remove"===n&&(i=gn.a[500]),Object(_.jsx)(y.a,{padding:1,margin:1,sx:{backgroundColor:i},children:Object(_.jsx)(d.a,{variant:"body1",children:t})})}));var at={cancel:function(){return function(e){e(dn()),an=null,cn=null}},confirm:function(){return function(e,n){nn(n())?(e(dn()),an?an():console.log("no confirmation callback"),an=null,cn=null):console.log("Confirmation Dialog is closed (can not confirm)!")}}},ct=Object(P.b)((function(e){var n=E(e);return{content:cn,message:tn(e),isOpen:nn(e),selectedOption:on(e).selected,deselectedOption:on(e).deselected,optionsToSelect:on(e).optionsToSelect,optionsToRemove:on(e).optionsToRemove,text:{cancel:T("cancel",n),confirm:T("confirm",n),confirmationPrompt:T("confirmationPrompt",n),youWantToSelect:T("youWantToSelect",n),youWantToRemove:T("youWantToRemove",n),theseOptionsWillBeRemoved:T("theseOptionsWillBeRemoved",n),youAlsoNeedToSelect:T("youAlsoNeedToSelect",n)}}}),at)((function(e){var n=e.isOpen,t=e.message,i=e.content,o=e.optionsToSelect,r=e.optionsToRemove,a=e.selectedOption,c=e.deselectedOption,u=e.cancel,s=e.confirm,l=e.text;function f(){u()}function g(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.length>0?Object(_.jsxs)(y.a,{children:[Object(_.jsx)(d.a,{variant:"body1",children:"".concat(n?l.youAlsoNeedToSelect:l.theseOptionsWillBeRemoved,": ")}),Object(_.jsx)(O.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:e.map((function(e){return Object(_.jsx)(rt,{optionId:e,highlight:n?"add":"remove"},e)}))})]}):""}return o||(o=[]),r||(r=[]),Object(_.jsxs)(Ze.a,{open:n,onClose:f,scroll:"paper","aria-labelledby":"responsive-dialog-title",fullWidth:!0,children:[Object(_.jsx)(en.a,{id:"responsive-dialog-title",children:l.confirmationPrompt}),Object(_.jsx)(Qe.a,{dividers:!0,children:o.length>0||r.length>0?Object(_.jsxs)("div",{children:[Object(_.jsx)(y.a,{marginBottom:2,children:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(d.a,{variant:"body1",children:"".concat(a?l.youWantToSelect:l.youWantToRemove,": ")}),Object(_.jsx)(O.a,{container:!0,justifyContent:"center",children:Object(_.jsx)(rt,{optionId:a||c,highlight:"add"})})]})}),g(o),g(r,!1)]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)($e.a,{children:t}),i]})}),Object(_.jsxs)(Xe.a,{children:[Object(_.jsx)(p.a,{autoFocus:!0,onClick:f,children:l.cancel}),Object(_.jsx)(p.a,{autoFocus:!0,onClick:function(){s()},children:l.confirm})]})]})})),ut=t(3),st=t(20),lt=t(542),dt=t(517),ft=t(520);var pt={cancel:function(){return function(e){e(Fe()),Te=null}},confirm:function(){return function(e,n){if(Ae(n())){if(Te){var t=Me(n());Te(t)}else console.log("no confirmation callback");e(Fe()),Te=null}else console.log("Input Dialog is closed (can not confirm)!")}},setInputData:function(e){return function(n){n(We(e))}}},gt=Object(P.b)((function(e,n){var t=E(e);return{inputData:Me(e),isOpen:Ae(e),dialogTitle:Le(e),text:{cancel:T("cancel",t),submit:T("submit",t)}}}),pt)((function(e){var n=e.isOpen,t=e.dialogTitle,o=e.inputData,r=e.cancel,a=e.confirm,c=e.setInputData,u=e.text,s=Object(i.useState)(Object(st.a)({},o)),l=Object(f.a)(s,2),d=l[0],g=l[1];function j(e,n){g((function(t){return Object(st.a)(Object(st.a)({},t),{},Object(ut.a)({},e,Object(st.a)(Object(st.a)({},t[e]),{},{value:n})))}))}function b(){r()}return Object(i.useEffect)((function(){g(Object(st.a)({},o))}),[o]),Object(_.jsx)("div",{children:Object(_.jsxs)(Ze.a,{open:n,onClose:b,scroll:"paper","aria-labelledby":"responsive-dialog-title",children:[Object(_.jsx)(en.a,{id:"responsive-dialog-title",children:t}),Object(_.jsx)(Qe.a,{dividers:!0,children:0===Object.keys(d).length?Object(_.jsx)(_.Fragment,{}):Object(_.jsx)("form",{children:Object.keys(o).map((function(e,n){return function(e,n,t){var i=e[n];return i.isCheckBox?Object(_.jsx)(lt.a,{label:i.name,labelPlacement:"start",control:Object(_.jsx)(dt.a,{checked:d[n].value,onChange:function(e){j(n,!d[n].value)}})},t):Object(_.jsx)(ft.a,{autoFocus:!0,autoComplete:o[n].isPassword?"current-password":"text",margin:"dense",label:o[n].name,type:o[n].isEmail?"email":o[n].isPassword?"password":"text",fullWidth:!0,variant:"standard",value:d[n].value,error:!d[n].value,onChange:function(e){return j(n,e.target.value)}},t)}(o,e,n)}))})}),Object(_.jsxs)(Xe.a,{children:[Object(_.jsx)(p.a,{autoFocus:!0,onClick:b,children:u.cancel}),Object(_.jsx)(p.a,{autoFocus:!0,onClick:function(){var e=!0;for(var n in d)d[n].value||d[n].isCheckBox||(e=!1);e&&(c(d),a())},children:u.submit})]})]})})})),jt=function(e){return e.alert.status===je},bt=function(e){return e.alert.alerts[0]},mt=t(130),Ot=t.n(mt);var ht={close:Ce},vt=Object(P.b)((function(e){return{isOpen:jt(e),alert:bt(e)}}),ht)((function(e){var n=e.isOpen,t=e.alert,i=e.close,o=Ot.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Ot.a.stopTimer),e.addEventListener("mouseleave",Ot.a.resumeTimer)},didClose:function(){i()}});return Object(_.jsx)("div",{children:void(n&&t&&(o.isVisible()||o.fire({icon:t.type,title:t.message})))})})),xt=t(528),It=t(543),Ct=function(e){return e.product.products},yt=function(e){return e.product.error},wt=function(e){return e.product.status};function Nt(e){var n=e.product,t=Object(u.f)(),i=function(e){return e.configId}(n),o=function(e){return e.name}(n),r=function(e){return e.description}(n),a=function(e){return e.images}(n),c=ra(a[0]);return Object(_.jsxs)(xt.a,{sx:{width:"100%",":hover":{cursor:"pointer"}},onClick:function(){console.log("clicked on: ".concat(o," (id ").concat(i,")")),t("/configurator/".concat(i))},children:[Object(_.jsx)("img",{width:"100%",src:"".concat(c,"?w=248&fit=crop&auto=format"),srcSet:"".concat(c,"?w=248&fit=crop&auto=format&dpr=2 2x"),alt:o,loading:"lazy"}),Object(_.jsx)(It.a,{title:o,subtitle:r})]},c)}var St=function(){return new Promise((function(e,n){F.a.get("".concat(W,"/products")).then((function(n){n.data||(console.log("no response data"),e([])),console.log(n.data),e(n.data)})).catch((function(e){console.log(e.toString()),n(e.toString())}))}))};var Dt=Object(B.b)({name:"product",initialState:{products:[],status:"idle",error:null},reducers:{loadingStarted:function(e){console.log("fetching products..."),e.status="loading"},loadingSucceeded:function(e,n){console.log("products loaded:",n.payload),e.status="succeeded",e.products=n.payload},loadingFailed:function(e,n){console.log("products loading failed:",n.payload),e.status="failed",e.error=n.payload}}}),Pt=Dt.actions,Gt=Pt.loadingStarted,kt=Pt.loadingSucceeded,At=Pt.loadingFailed,Mt=Dt.reducer;function Lt(){return Object(_.jsx)("div",{children:Object(_.jsx)(d.a,{variant:"h2",children:"Loading..."})})}var Rt={fetchProducts:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Gt()),St().then((function(e){n(kt(e))})).catch((function(e){n(ve(e,be)),n(At(e))}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},Tt=Object(P.b)((function(e){return{products:Ct(e),status:wt(e),error:yt(e),language:E(e)}}),Rt)((function(e){var n=e.products,t=void 0===n?[]:n,o=e.status,r=e.error,a=e.fetchProducts,c=e.language,u=0===t.length;function s(){return Object(_.jsx)(Lt,{})}return Object(i.useEffect)((function(){u&&(console.log("calling to fetch products..."),a())}),[a,u]),function(){switch(o){case"loading":default:return s();case"succeeded":return u?Object(_.jsx)(d.a,{variant:"h2",children:T("noProductsFound",c)}):Object(_.jsx)(O.a,{container:!0,columns:12,spacing:2,sx:{paddingTop:2,marginRight:4},children:t.map((function(e,n){return Object(_.jsx)(O.a,{item:!0,sm:12,md:6,lg:4,xl:3,width:"100%",children:Object(_.jsx)(Nt,{product:e})},n)}))});case"failed":return e=r,Object(_.jsxs)("div",{children:[Object(_.jsx)(d.a,{variant:"h2",children:T("failedToLoadProducts",c)}),Object(_.jsx)(d.a,{variant:"body1",children:T(e,c)})]})}var e}()})),Et=t(89),Bt=t(499),qt=t(515),Ft=t(545),Wt=t(500),zt=t(501),Vt=t(502),Ut=t(103),Kt=function(e){return new Promise((function(n,t){F.a.get("".concat(W,"/configuration/").concat(e)).then((function(e){n(e.data)})).catch((function(e){t(e.toString())}))}))},Jt=function(e){return new Promise((function(n,t){var i=Object(st.a)({},e);console.log(i),F.a.post("".concat(W,"/configuration"),i).then((function(e){n(e.data)})).catch((function(e){console.log(e),t("Api unreachable")}))}))};var Ht=Object(B.b)({name:"configuration",initialState:{configuration:{},selectedOptions:[],selectedModel:"",status:"idle",error:null},reducers:{selectOption:function(e,n){e.selectedOptions.includes(n.payload)||e.selectedOptions.push(n.payload)},deselectOption:function(e,n){e.selectedOptions=e.selectedOptions.filter((function(e){return e!==n.payload}))},setSelectedOptions:function(e,n){console.log("setting selected options"),e.selectedOptions=n.payload},setSelectedModel:function(e,n){e.selectedModel=n.payload},reset:function(e,n){console.log("reset active configuration"),e.selectedOptions=n.payload},loadingStarted:function(e){console.log("fetching configuration..."),e.status="loading"},loadingSucceeded:function(e,n){console.log("configuration loaded:",n.payload),e.status="succeeded",e.configuration=n.payload,e.selectedOptions=$t(e.configuration.configId)||[]},loadingFailed:function(e,n){console.log("configuration loading failed:",n.payload),e.status="failed",e.error=n.payload.toString(),e.configuration={},e.selectedOptions=[]}},extraReducers:function(e){}}),_t=function(e){return function(){var n=Object(ce.a)(ae.a.mark((function n(t,i){return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(li()),Kt(e).then((function(e){t(Xt(Dn(i()))),t(di(e)),t(Zt())})).catch((function(e){t(fi(e))}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Yt=function(e,n){return n.every((function(n){return e.includes(n)}))},Zt=function(){return function(e,n){var t=En(n()),i=Gn(n());if(0!==t.length){var o,r,a,c=Object(Ut.a)(i);try{for(c.s();!(o=c.n()).done;){var u=o.value,s=qn(u);if(s&&(a=t,(r=s)&&r.length>0&&Yt(r,a)&&Yt(a,r)))return void e(Xt(Bn(u)))}}catch(l){c.e(l)}finally{c.f()}e(Xt(""))}else e(Xt(""))}},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(n,t){if(e){var i=Fn(t(),e);n(ui(i))}n(si(e))}},Qt=function(e,n){var t=ei(),i=t.find((function(n){return n.id===e}));i?i.options=n:(i={id:e,options:n},t.push(i)),aa(t,"configurations")},$t=function(e){console.log("all stored configs:",ei()),console.log(e);var n=ei().find((function(n){return n.id===e}));return console.log("storage loaded config:",n),n&&n.options?n.options:null},ei=function(){var e=ca("configurations");return e||[]},ni=function(e){return function(n,t){var i=[],o=Kn(t(),e);if(o){var r,a=Object(Ut.a)(o);try{for(a.s();!(r=a.n()).done;){var c=r.value;c!==e&&(Un(t(),c)&&i.push(c))}}catch(j){a.e(j)}finally{a.f()}}var u=it(t(),e),s=[].concat(i,Object(jn.a)(u)),l=[];s.forEach((function(e){var n=oi(t(),e);n&&(l=[].concat(Object(jn.a)(l),Object(jn.a)(n)))})),l=[].concat(Object(jn.a)(u),Object(jn.a)(l));var d=[].concat(i,Object(jn.a)(l));if(d&&0!==d.length)if(0!==l.length){var f=l.map((function(e){return Vn(t(),e)})),p=Vn(t(),e),g="By selecting ".concat(p," you will deselect ").concat(f.join(", "));n(un(g,{selected:e,deselected:null,optionsToSelect:[],optionsToRemove:l},null,(function(){n(ii([e],d))})))}else n(ii([e],d));else n(ii([e],null))}},ti=function(e){return function(n,t){var i=oi(t(),e);if(i&&0!==i.length){var o=i.map((function(e){return Vn(t(),e)})),r=Vn(t(),e),a="By deselecting ".concat(r," you will also deselect ").concat(o.join(", "));n(un(a,{selected:null,deselected:e,optionsToSelect:[],optionsToRemove:i},null,(function(){n(ii(null,[e].concat(i)))})))}else n(ii(null,[e]))}},ii=function(e,n){return function(t){e&&e.length>=1&&e.forEach((function(e){t(ai(e))})),n&&n.length>=1&&n.forEach((function(e){t(ci(e))})),t((function(e,n){var t=wn(n()),i=En(n());Qt(t,i)})),t(Zt())}},oi=function e(n,t){var i=tt(n,t);if(0===i.length)return null;var o=[];return i.forEach((function(t){var i=e(n,t);null!=i&&(o=[].concat(Object(jn.a)(o),Object(jn.a)(i)))})),[].concat(Object(jn.a)(i),Object(jn.a)(o))},ri=Ht.actions,ai=ri.selectOption,ci=ri.deselectOption,ui=ri.setSelectedOptions,si=ri.setSelectedModel,li=(ri.reset,ri.loadingStarted),di=ri.loadingSucceeded,fi=ri.loadingFailed,pi=Ht.reducer,gi=t(518),ji=t(498),bi=t(532),mi=t(544);var Oi=Object(P.b)((function(e,n){return Object(st.a)(Object(st.a)({},n),{},{state:e})}),{})((function(e){var n=e.state,t=e.optionId,i=e.name,o=e.price;return t&&(i=zn(n,t).name,o=et(n,t)),Object(_.jsxs)(y.a,{display:"flex",justifyContent:"space-between",sx:{width:"100%"},children:[Object(_.jsx)(d.a,{variant:"body2",children:i}),o?Object(_.jsxs)(d.a,{variant:"body2",children:[o,"\u20ac"]}):""]})}));var hi={fetchConfiguration:_t,setSelectedOptions:ui},vi=Object(P.b)((function(e){return{sections:Tn(e),groups:Rn(e),status:yn(e),loadedConfigurationId:wn(e),options:Ln(e),basePrice:Nn(e),currentPrice:nt(e),language:E(e)}}),hi)((function(e){var n=e.configurationId,t=e.selectedOptions,o=e.status,r=e.loadedConfigurationId,a=e.sections,c=e.groups,u=e.basePrice,s=e.currentPrice,l=e.fetchConfiguration,f=e.setSelectedOptions,p=e.language;function g(e){var n=[];return c.filter((function(n){return e.optionGroupIds.includes(n.id)})).forEach((function(e){var i=t.filter((function(n){return e.optionIds.includes(n)}));n.push.apply(n,Object(jn.a)(i))})),n.map((function(e){return Object(_.jsx)(gi.a,{sx:{paddingBottom:0,paddingTop:0},children:Object(_.jsx)(Oi,{optionId:e},e)},e)}))}return Object(i.useEffect)((function(){console.log("summary: setting selected options"),f(t)}),[r,t,f]),Object(i.useEffect)((function(){n!==r&&(console.log("summary: fetching configuration ",n),l(n))}),[n,r,l]),"succeeded"!==o?Object(_.jsx)(_.Fragment,{}):Object(_.jsxs)(y.a,{children:[Object(_.jsxs)(d.a,{variant:"h3",children:[T("price",p),": ",s,"\u20ac"]}),Object(_.jsx)(ji.a,{spacing:1,children:Object(_.jsx)(y.a,{children:Object(_.jsxs)(bi.a,{dense:!0,sx:{position:"relative",overflow:"auto",maxHeight:300,"& ul":{padding:0}},subheader:Object(_.jsx)("li",{}),children:[Object(_.jsx)("li",{children:Object(_.jsxs)("ul",{children:[Object(_.jsx)(mi.a,{children:T("basePrice",p)}),Object(_.jsx)(gi.a,{sx:{paddingBottom:0,paddingTop:0},children:Object(_.jsx)(Oi,{name:T("basePrice",p),price:u})})]})}),a.map((function(e){return Object(_.jsx)("li",{children:Object(_.jsxs)("ul",{children:[Object(_.jsx)(mi.a,{children:e.name}),g(e)]})},e.id)}))]})})})]})}));var xi={openConfirm:un,openAlert:ve},Ii=Object(P.b)((function(e){return{language:E(e)}}),xi)((function(e){var n=e.configurations,t=e.openConfirm,i=e.isOrdered,o=void 0!==i&&i,r=e.isAdminView,a=void 0!==r&&r,c=e.openAlert,s=e.language,l=Object(u.f)();function f(e,n){(function(e,n){return new Promise((function(t,i){var o={savedName:n};F.a.delete("".concat(W,"/account/configurations/").concat(e),o).then((function(e){t(e.data)})).catch((function(e){i("Could not get saved configurations!")}))}))})(e,n).then((function(e){c("".concat(T("successfullyRemoved",s)," ").concat(n,"!"),me),l("/user/saved")})).catch((function(e){c("Error: ".concat(e),be)}))}return Object(_.jsx)(Bt.a,{children:Object(_.jsx)(O.a,{container:!0,justifyContent:"center",children:n.map((function(e,n){var i=e.configId,r=function(e){return e.options}(e),c=function(e){return e.savedName}(e),u=function(e){return e.date}(e),s=function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.userName)||""}(e);return Object(_.jsxs)(Bt.a,{margin:2,children:[Object(_.jsxs)(Bt.a,{display:"flex",alignItems:"center",children:[Object(_.jsx)(d.a,{variant:"body1",children:c}),Object(_.jsx)(j.a,{onClick:function(){return function(e,n){l("/configurator/".concat(e)),Qt(e,n)}(i,r)},children:Object(_.jsx)(Wt.a,{})}),o?"":Object(_.jsx)(j.a,{onClick:function(){return f(i,c)},children:Object(_.jsx)(zt.a,{})}),o?Object(_.jsx)(j.a,{onClick:function(){return function(e,n){t("",{},Object(_.jsx)(vi,{configurationId:e,selectedOptions:n}),(function(){}))}(i,r)},children:Object(_.jsx)(Vt.a,{})}):""]}),Object(_.jsx)(d.a,{variant:"body2",children:c}),Object(_.jsx)(d.a,{variant:"body2",children:new Date(u).toLocaleTimeString()}),a?Object(_.jsxs)(d.a,{variant:"body2",children:["From: ",s]}):""]},n)}))})})})),Ci=["children","value","index"];function yi(e){var n=e.children,t=e.value,i=e.index,o=Object(Et.a)(e,Ci);return Object(_.jsx)("div",Object(st.a)(Object(st.a)({role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},o),{},{children:t===i&&Object(_.jsx)(Bt.a,{sx:{p:3},children:n})}))}var wi=[{name:"saved",value:0},{name:"ordered",value:1},{name:"allordered",value:2,forAdmin:!0}];var Ni=Object(P.b)((function(e){return{isAdmin:Q(e),savedConfigurations:ne(e),orderedConfigurations:te(e),allOrderedConfigurations:ie(e),language:E(e)}}),{})((function(e){var n=e.isAdmin,t=e.savedConfigurations,o=e.orderedConfigurations,r=e.allOrderedConfigurations,a=e.language,c=Object(u.f)(),s=Object(u.g)().tab,l=wi.find((function(e){return e.name===s})),d=l;l&&d.forAdmin&&!n&&(d=null),Object(i.useEffect)((function(){d||c("/user/".concat(wi[0].name))}),[d,c]);var p=d?d.value:0,g=Object(i.useState)(p),j=Object(f.a)(g,2),b=j[0],m=j[1];function O(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return Object(_.jsxs)(Bt.a,{width:"100%",children:[Object(_.jsxs)(qt.a,{scrollButtons:"auto",variant:"scrollable",allowScrollButtonsMobile:!0,value:b,onChange:function(e,n){var t=wi.find((function(e){return e.value===n}));t&&(m(t.value),c("/user/".concat(t.name)))},"aria-label":"configurationstabs",children:[Object(_.jsx)(Ft.a,Object(st.a)({label:T("savedConfigurations",a)},O(0))),Object(_.jsx)(Ft.a,Object(st.a)({label:T("orderedConfigurations",a)},O(1))),n?Object(_.jsx)(Ft.a,Object(st.a)({label:T("allOrderedConfigurations",a)},O(2))):""]}),Object(_.jsx)(yi,{value:b,path:wi[0].name,index:0,children:Object(_.jsx)(Ii,{configurations:t})}),Object(_.jsx)(yi,{value:b,path:wi[1].name,index:1,children:Object(_.jsx)(Ii,{configurations:o,isOrdered:!0})}),n?Object(_.jsx)(yi,{value:b,path:wi[1].name,index:2,children:Object(_.jsx)(Ii,{configurations:r,isOrdered:!0,isAdminView:!0})}):""]})}));var Si={getSavedConfigurations:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de().then((function(e){var t=e.filter((function(e){return"saved"===e.status})),i=e.filter((function(e){return"ordered"===e.status}));t.length>0&&n(De(t)),i.length>0&&n(Pe(i))})).catch((function(e){console.log(e),n(ve(e,be))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},getAllOrderedConfigurations:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe().then((function(e){n(Ge(e))})).catch((function(e){console.log(e),n(ve(e,be))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},Di=Object(P.b)((function(e){return{isLoggedIn:X(e),isAdmin:Q(e),username:$(e),email:ee(e)}}),Si)((function(e){var n=e.username,t=e.email,o=e.isLoggedIn,r=e.isAdmin,a=e.getSavedConfigurations,c=e.getAllOrderedConfigurations,u=Object(_.jsx)(_.Fragment,{}),s=Object(_.jsx)(_.Fragment,{});return Object(i.useEffect)((function(){o&&a(),r&&c()}),[o,r,a,c]),Object(_.jsx)(y.a,{className:"accountpage",display:"flex",flexDirection:"column",alignItems:"center",children:o?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(y.a,{className:"userdetails",paddingTop:2,paddingBottom:4,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(_.jsx)(d.a,{variant:"h2",children:n}),Object(_.jsx)(d.a,{variant:"body1",children:t})]}),Object(_.jsxs)(y.a,{children:[s,r?u:""]}),Object(_.jsx)(Ni,{})]}):Object(_.jsx)(y.a,{children:Object(_.jsx)(d.a,{variant:"h2",children:"Log in to access this page!"})})})})),Pi=t(506),Gi=t(523),ki=t(503),Ai=function(e){return e.builder.currentLanguage},Mi=function(e){return e.builder.configuration},Li=function(e){return e.builder.status},Ri=function(e){return e.builder.error},Ti=function(e){return e.builder.currentLanguage},Ei=function(e){return e.builder.availableImages},Bi=function(e){return e.builder.configuration.images},qi=function(e){return e.builder.configuration.optionSections},Fi=function(e){return e.builder.configuration.optionGroups},Wi=function(e){return e.builder.configuration.rules.models},zi=function(e){return e.builder.configuration.rules.defaultModel},Vi=function(e){return e.builder.configuration.rules.basePrice},Ui=function(e){return e.builder.configuration.rules.requirements},Ki=function(e){return e.builder.configuration.rules.incompatibilities},Ji=function(e){return e.builder.configuration.rules.groupRequirements||[]},Hi=function(e){return e.builder.configuration.languages[e.builder.currentLanguage].options||[]},_i=function(e){return e.builder.configuration.languages[e.builder.currentLanguage].optionGroups||[]},Yi=function(e){return e.builder.configuration.languages[e.builder.currentLanguage].optionSections||[]},Zi=function(e,n){return n},Xi=Object(bn.a)([function(e){return e.builder.configuration.languages[e.builder.currentLanguage].name||""},Ai],(function(e,n){return e||""})),Qi=Object(bn.a)([function(e){return e.builder.configuration.languages[e.builder.currentLanguage].description||""},Ai],(function(e,n){return e||""})),$i=Object(bn.a)([Zi,Hi],(function(e,n){var t=n.find((function(n){return n.id===e}));return t||null})),eo=Object(bn.a)([Zi,function(e){return e.builder.configuration.rules.priceList}],(function(e,n){var t=n[e];return t||0})),no=Object(bn.a)([Zi,Ui],(function(e,n){var t=n[e];return t||[]})),to=Object(bn.a)([Zi,Ki],(function(e,n){var t=n[e];return t||[]})),io=Object(bn.a)([Zi,qi],(function(e,n){var t=n.find((function(n){return n.id===e}));return t||null})),oo=Object(bn.a)([Zi,qi],(function(e,n){var t=n.find((function(n){return n.id===e}));return t?t.optionGroupIds:[]})),ro=Object(bn.a)([Zi,Fi],(function(e,n){var t=n.find((function(n){return n.id===e}));return t||null})),ao=Object(bn.a)([Zi,Fi,_i],(function(e,n,t){var i=n.find((function(n){return n.optionIds.includes(e)}));return i?t.find((function(e){return e.id===i.id})).name:""})),co=Object(bn.a)([Zi,Ji],(function(e,n){var t=n[e];return t||[]})),uo=Object(bn.a)([function(e){return e.builder.configuration.languages},Ai],(function(e,n){return e[n]})),so=Object(bn.a)([qi,Zi],(function(e,n){return!!e.find((function(e){return e.id.toUpperCase()===n.toUpperCase()}))})),lo=Object(bn.a)([Fi,Zi],(function(e,n){return!!e.find((function(e){return e.id.toUpperCase()===n.toUpperCase()}))})),fo=Object(bn.a)([function(e){return e.builder.configuration.options},Zi],(function(e,n){return!!e.find((function(e){return e.id.toUpperCase()===n.toUpperCase()}))})),po=Object(bn.a)([uo,Zi],(function(e,n){return e.optionGroups.find((function(e){return e.id===n}))||null})),go=Object(bn.a)([po],(function(e){return e?e.name:""})),jo=Object(bn.a)([po],(function(e){return e?e.description:""})),bo=Object(bn.a)([uo,Zi],(function(e,n){return e.models.find((function(e){return e.id===n.id}))||null})),mo=Object(bn.a)([bo],(function(e){return e?e.name:"c"})),Oo=Object(bn.a)([bo],(function(e){return e?e.description:"c"})),ho={configId:"",images:[],options:[],optionSections:[],optionGroups:[],rules:{basePrice:0,defaultModel:"",models:[],groupRequirements:{},requirements:{},incompatibilities:{},priceList:{}},languages:{en:{name:"",description:"",options:[],optionSections:[],optionGroups:[],models:[]},de:{name:"",description:"",options:[],optionSections:[],optionGroups:[],models:[]},fr:{name:"",description:"",options:[],optionSections:[],optionGroups:[],models:[]}}},vo={configuration:ho,currentLanguage:L,availableImages:[],status:"idle",error:null},xo=Object(B.b)({name:"builder",initialState:Object(st.a)(Object(st.a)({},vo),{},{configuration:ca("builder")||vo.configuration}),reducers:{setImages:function(e,n){e.configuration.images=n.payload},setAvailableImages:function(e,n){e.availableImages=n.payload},addSection:function(e,n){var t=n.payload;e.configuration.optionSections.push({id:t,optionGroupIds:[]});var i={id:t,name:t};for(var o in e.configuration.languages){e.configuration.languages[o].optionSections.push(i)}},changeSectionProperties:function(e,n){var t=n.payload,i=t.sectionId,o=t.newName,r=e.configuration.languages[e.currentLanguage].optionSections.find((function(e){return e.id===i}));r&&(r.name=o||r.name)},removeSection:function(e,n){var t=n.payload;for(var i in e.configuration.optionSections=e.configuration.optionSections.filter((function(e){return e.id!==t})),e.configuration.languages){var o=e.configuration.languages[i];o.optionSections=o.optionSections.filter((function(e){return e.id!==t}))}},addOptionGroup:function(e,n){var t=n.payload,i=t.sectionId,o=t.groupId,r=t.name,a=t.description,c=t.isRequired,u=t.isReplacementGroup;e.configuration.optionGroups.push({id:o,required:c,replacement:u,optionIds:[]});var s={id:o,name:r,description:a};for(var l in e.configuration.languages){e.configuration.languages[l].optionGroups.push(s)}var d=e.configuration.optionSections.find((function(e){return e.id===i}));d&&d.optionGroupIds.push(o)},changeGroupProperties:function(e,n){var t=n.payload,i=t.groupId,o=t.newName,r=t.newDescription,a=e.configuration.languages[e.currentLanguage].optionGroups.find((function(e){return e.id===i}));a&&(a.name=o||a.name,a.description=r||a.description)},setGroupRequirements:function(e,n){var t=n.payload,i=t.groupId,o=t.requirements;for(var r in e.configuration.rules.groupRequirements[i]=o,e.configuration.rules.groupRequirements)0===e.configuration.rules.groupRequirements[r].length&&delete e.configuration.rules.groupRequirements[r]},setGroupIsRequired:function(e,n){var t=n.payload,i=t.groupId,o=t.required,r=e.configuration.optionGroups.find((function(e){return e.id===i}));r&&(r.required=o)},setGroupIsReplacement:function(e,n){var t=n.payload,i=t.groupId,o=t.replacement,r=e.configuration.optionGroups.find((function(e){return e.id===i}));r&&(r.replacement=o)},removeOptionGroup:function(e,n){var t=n.payload,i=t.groupId,o=t.sectionId;for(var r in e.configuration.rules.groupRequirements[i]&&delete e.configuration.rules.groupRequirements[i],e.configuration.optionGroups=e.configuration.optionGroups.filter((function(e){return e.id!==i})),e.configuration.languages){var a=e.configuration.languages[r];a.optionGroups=a.optionGroups.filter((function(e){return e.id!==i}))}var c=e.configuration.optionSections.find((function(e){return e.id===o}));c&&(c.optionGroupIds=c.optionGroupIds.filter((function(e){return e!==i})))},addOption:function(e,n){var t=n.payload,i=t.groupId,o=t.optionId,r=t.name,a=t.description,c=t.price;e.configuration.options.push({id:o,groupId:i});var u={id:o,name:r,description:a};for(var s in e.configuration.languages){e.configuration.languages[s].options.push(u)}var l=e.configuration.optionGroups.find((function(e){return e.id===i}));l&&l.optionIds.push(o),c&&(e.configuration.rules.priceList[o]=c)},changeOptionProperties:function(e,n){var t=n.payload,i=t.optionId,o=t.newName,r=t.newDescription,a=e.configuration.languages[e.currentLanguage].options.find((function(e){return e.id===i}));a&&(a.name=o||a.name,a.description=r||a.description)},setOptionPrice:function(e,n){var t=n.payload,i=t.optionId,o=t.price;e.configuration.rules.priceList[i]=o},setOptionRequirements:function(e,n){var t=n.payload,i=t.optionId,o=t.requirements;for(var r in e.configuration.rules.requirements[i]=o,e.configuration.rules.requirements)0===e.configuration.rules.requirements[r].length&&delete e.configuration.rules.requirements[r]},setOptionIncompatibilities:function(e,n){var t=n.payload,i=t.optionId,o=t.incompatibilities;for(var r in e.configuration.rules.incompatibilities[i]=o,e.configuration.rules.incompatibilities)0===e.configuration.rules.incompatibilities[r].length&&delete e.configuration.rules.incompatibilities[r]},removeOption:function(e,n){var t=n.payload,i=t.groupId,o=t.optionId;e.configuration.options=e.configuration.options.filter((function(e){return e.id!==o}));var r=e.configuration.optionGroups.find((function(e){return e.id===i}));for(var a in r&&(r.optionIds=r.optionIds.filter((function(e){return e!==o}))),e.configuration.languages){var c=e.configuration.languages[a];c.options=c.options.filter((function(e){return e.id!==o}))}e.configuration.rules.requirements[o]&&delete e.configuration.rules.requirements[o],e.configuration.rules.incompatibilities[o]&&delete e.configuration.rules.incompatibilities[o],e.configuration.rules.priceList[o]&&delete e.configuration.rules.priceList[o]},addModel:function(e,n){var t=n.payload,i=t.modelName,o=t.options,r=t.description;e.configuration.rules.models.push({id:i,options:o});var a={id:i,name:i,description:r};for(var c in e.configuration.languages){e.configuration.languages[c].models.push(a)}},changeModelProperties:function(e,n){var t=n.payload,i=t.modelId,o=t.newName,r=t.newDescription,a=e.configuration.languages[e.currentLanguage].models.find((function(e){return e.id===i}));a&&(a.name=o||a.name,a.description=r||a.description)},setDefaultModel:function(e,n){e.configuration.rules.defaultModel=n.payload},setModelOptions:function(e,n){var t=n.payload,i=t.modelId,o=t.options,r=e.configuration.rules.models.find((function(e){return e.id===i}));r&&(r.optionIds=o)},removeModel:function(e,n){var t=n.payload;for(var i in e.configuration.rules.models=e.configuration.rules.models.filter((function(e){return e.id!==t})),e.configuration.languages){var o=e.configuration.languages[i];o.models=o.models.filter((function(e){return e.id!==t}))}},setBasePrice:function(e,n){e.configuration.rules.basePrice=n.payload},setDescription:function(e,n){var t=n.payload;e.configuration.languages[e.currentLanguage].description=t},setName:function(e,n){var t=n.payload;e.configuration.languages[e.currentLanguage].name=t,e.configuration.languages[L].name||(e.configuration.languages[L].name=t)},changeInputLanguage:function(e,n){var t=n.payload;e.currentLanguage=t},resetBuild:function(e,n){e.configuration=ho},setConfigurationToEdit:function(e,n){var t=n.payload,i=t.configId,o=t.images,r=t.options,a=t.optionSections,c=t.optionGroups,u=(t.rules,t.language);t.languagePack;e.configuration=ho,e.configuration.configId=i,e.configuration.images=o,e.configuration.options=r,e.configuration.optionSections=a,e.configuration.optionGroups=c,e.currentLanguage=u},loadingStarted:function(e){e.status="loading"},loadingSucceeded:function(e,n){e.status="succeeded"},loadingFailed:function(e,n){e.status="failed",e.error=n.payload},loadingHandled:function(e,n){e.status="idle",e.error=null}}}),Io=function(e,n){return function(t,i){var o=ro(i(),e);if(o){var r=function(e){return e.optionIds||[]}(o);r.forEach((function(n){t(Co(e,n))}));var a=Ji(i());for(var c in a){var u=a[c].filter((function(n){return n!==e}));t(Mo({groupId:c,requirements:u}))}t(To({groupId:e,sectionId:n}))}else console.log("Could not delete group -> no group matches the id: "+e)}},Co=function(e,n){return function(t,i){Wi(i()).forEach((function(e){var i=function(e){return e.optionIds||[]}(e).filter((function(e){return e!==n}));t(yo(e.id,i))}));var o=Ui(i());for(var r in o){var a=o[r].filter((function(e){return e!==n}));t(Fo({optionId:r,requirements:a}))}var c=Ki(i());for(var u in c){var s=c[u].filter((function(e){return e!==n}));t(Wo({optionId:u,incompatibilities:s}))}t(zo({groupId:e,optionId:n}))}},yo=function(e,n){return function(t){t(Jo({modelId:e,options:n}))}},wo=xo.actions,No=wo.setImages,So=wo.setAvailableImages,Do=wo.addSection,Po=wo.changeSectionProperties,Go=wo.removeSection,ko=wo.addOptionGroup,Ao=wo.changeGroupProperties,Mo=wo.setGroupRequirements,Lo=wo.setGroupIsRequired,Ro=wo.setGroupIsReplacement,To=wo.removeOptionGroup,Eo=wo.addOption,Bo=wo.changeOptionProperties,qo=wo.setOptionPrice,Fo=wo.setOptionRequirements,Wo=wo.setOptionIncompatibilities,zo=wo.removeOption,Vo=wo.addModel,Uo=wo.changeModelProperties,Ko=wo.setDefaultModel,Jo=wo.setModelOptions,Ho=wo.removeModel,_o=wo.setBasePrice,Yo=wo.setDescription,Zo=wo.setName,Xo=wo.changeInputLanguage,Qo=wo.resetBuild,$o=wo.setConfigurationToEdit,er=wo.loadingStarted,nr=wo.loadingSucceeded,tr=wo.loadingFailed,ir=wo.loadingHandled,or=xo.reducer,rr=t(546);var ar={setName:Zo,setDescription:Yo,setPrice:_o},cr=Object(P.b)((function(e){return{name:Xi(e),description:Qi(e),basePrice:Vi(e),language:E(e)}}),ar)((function(e){var n=e.name,t=e.description,o=e.basePrice,r=e.setName,a=e.setDescription,c=e.setPrice,u=e.language,s=Object(i.useState)(!1),l=Object(f.a)(s,2),p=l[0],g=l[1],j=Object(i.useState)(n),b=Object(f.a)(j,2),m=b[0],h=b[1],v=Object(i.useState)(t),x=Object(f.a)(v,2),I=x[0],C=x[1];return Object(i.useEffect)((function(){h(n)}),[n,h]),Object(i.useEffect)((function(){C(t)}),[t,h]),Object(_.jsxs)(O.a,{item:!0,container:!0,rowGap:2,children:[Object(_.jsx)(O.a,{item:!0,children:Object(_.jsx)(d.a,{variant:"h3",children:T("productProperties",u)})}),Object(_.jsxs)(O.a,{item:!0,container:!0,rowSpacing:2,columnSpacing:2,children:[Object(_.jsx)(O.a,{item:!0,xs:12,sm:8,md:3,children:Object(_.jsx)(ft.a,{fullWidth:!0,label:T("configurationName",u),variant:"outlined",value:m,onChange:function(e){return h(e.target.value)},onBlur:function(e){m&&r(m)}})}),Object(_.jsx)(O.a,{item:!0,xs:12,flexGrow:1,sm:4,md:2,children:Object(_.jsx)(ft.a,{fullWidth:!0,label:T("basePrice",u),variant:"outlined",onChange:function(e){var n=Number(e.target.value);n||0===n?(g(!1),c(n)):g(!0)},error:p,defaultValue:o,type:"number",InputProps:{inputProps:{min:0},startAdornment:Object(_.jsx)(rr.a,{position:"start",children:"\u20ac"})}})}),Object(_.jsx)(O.a,{item:!0,flexGrow:1,children:Object(_.jsx)(ft.a,{fullWidth:!0,label:T("description",u),variant:"outlined",value:I,onChange:function(e){return C(e.target.value)},onBlur:function(e){I&&a(I)},multiline:!0,maxRows:4})})]})]})}));var ur={loadImages:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n,t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise((function(e,n){F.a.get("".concat(W,"/images")).then((function(n){n.data||(console.log("no response data"),e([])),console.log("loaded images: ",n.data),e(n.data)})).catch((function(e){console.log(e.toString()),n(e.toString())}))})).then((function(e){n(So(e))})).catch((function(e){n(tr(e))}));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},setImages:No},sr=Object(P.b)((function(e){return{selectedImages:Bi(e),allImages:Ei(e),language:E(e)}}),ur)((function(e){var n=e.selectedImages,t=e.allImages,o=e.loadImages,r=e.setImages,a=e.language;return Object(i.useEffect)((function(){0===t.length&&o()}),[t,o]),Object(_.jsxs)(O.a,{item:!0,children:[Object(_.jsx)(Bt.a,{children:Object(_.jsx)(d.a,{variant:"h3",children:T("productImages",a)})}),Object(_.jsx)(Bt.a,{children:Object(_.jsxs)(w.a,{sx:{m:1,width:300},children:[Object(_.jsx)(N.a,{id:"images-label",children:T("images",a)}),Object(_.jsx)(S.a,{labelId:"images-label",multiple:!0,value:n,onChange:function(e){var n=e.target.value,t="string"===typeof n?n.split(","):n;r(t)},input:Object(_.jsx)(Gi.a,{label:T("images",a)}),renderValue:function(e){return e.join(", ").replace("*","/")},children:t.map((function(e){return Object(_.jsxs)(D.a,{value:e,children:[Object(_.jsx)(dt.a,{checked:n.indexOf(e)>-1}),Object(_.jsx)(ki.a,{primary:"".concat(e.replace("*","/"))})]},e)}))})]})})]})})),lr=t(504);var dr={openInputDialog:Ee},fr=Object(P.b)((function(e){return{}}),dr)((function(e){var n=e.title,t=e.propertyName,i=void 0===t?"":t,o=e.oldValue,r=void 0===o?"":o,a=e.textButton,c=void 0!==a&&a,u=e.valueChangedCallback,s=e.openInputDialog;function l(){var e={item:{name:i||"new value",value:r}};s("".concat(n),e,(function(e){u(e.item.value)}))}return Object(_.jsx)(_.Fragment,{children:c?Object(_.jsx)(p.a,{onClick:l,children:"".concat(n)}):Object(_.jsx)(g.a,{title:n,children:Object(_.jsx)(j.a,{sx:{display:"inline"},onClick:l,children:Object(_.jsx)(Wt.a,{})})})})}));var pr={removeModel:Ho,changeModelProperties:Uo,setModelOptions:yo,openConfirmDialog:un},gr=Object(P.b)((function(e,n){return{name:mo(e,n.model),description:Oo(e,n.model),allOptions:Hi(e),getBuilderGroupNameByOptionId:function(n){return ao(e,n)},language:E(e)}}),pr)((function(e){var n=e.model,t=e.name,i=e.description,o=e.allOptions,r=e.getBuilderGroupNameByOptionId,a=e.removeModel,c=e.changeModelProperties,u=e.setModelOptions,s=e.openConfirmDialog,l=e.language,f=n.options,p=n.id;return Object(_.jsxs)(O.a,{container:!0,children:[Object(_.jsxs)(O.a,{item:!0,xs:12,sm:10,xl:9,children:[Object(_.jsxs)(O.a,{item:!0,container:!0,alignItems:"center",children:[Object(_.jsx)(d.a,{variant:"body1",children:t}),Object(_.jsx)(fr,{title:"".concat(T("editModelName",l)),propertyName:T("modelName",l),oldValue:t,valueChangedCallback:function(e){c({modelId:p,newName:e})}})]}),Object(_.jsx)(O.a,{item:!0,container:!0,alignItems:"center",children:Object(_.jsxs)(d.a,{variant:"body2",children:[i,Object(_.jsx)(fr,{title:"".concat(T("editModelDescription",l)),propertyName:T("modelDescription",l),oldValue:i,valueChangedCallback:function(e){c({modelId:p,newDescription:e})}})]})})]}),Object(_.jsx)(O.a,{item:!0,container:!0,xs:12,sm:2,xl:1,justifyContent:{xs:"center",sm:"flex-end"},children:Object(_.jsx)(g.a,{title:"".concat(T("remove",l)," '").concat(t,"'"),children:Object(_.jsx)(j.a,{onClick:function(){s("".concat(T("removeModelConfirmation",l),": '").concat(t,"'?"),{},null,(function(){a(p)}))},children:Object(_.jsx)(zt.a,{})})})}),Object(_.jsx)(O.a,{item:!0,container:!0,xs:12,xl:2,justifyContent:{xs:"center",xl:"flex-end"},children:Object(_.jsxs)(w.a,{sx:{m:1,width:300},children:[Object(_.jsx)(N.a,{id:"options-label-".concat(t),children:T("options",l)}),Object(_.jsx)(S.a,{labelId:"options-label",multiple:!0,value:f,onChange:function(e){var n=e.target.value,i="string"===typeof n?n.split(","):n;u(t,i)},input:Object(_.jsx)(Gi.a,{label:T("options",l)}),renderValue:function(e){return o.filter((function(n){return e.includes(n.id)})).map((function(e){return e.name})).join(", ")},children:o.map((function(e){return Object(_.jsxs)(D.a,{value:e.id,children:[Object(_.jsx)(dt.a,{checked:f.indexOf(e.id)>-1}),Object(_.jsx)(ki.a,{primary:"".concat(e.name," (").concat(r(e.id),")")})]},e.id)}))})]})})]})}));var jr={createModel:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(i){i(Vo({modelName:e,options:t,description:n}))}},setDefaultModel:function(e){return function(n){n(Ko(e))}},openInputDialog:Ee},br=Object(P.b)((function(e){return{models:Wi(e),selectedDefaultModel:zi(e),language:E(e)}}),jr)((function(e){var n=e.models,t=e.selectedDefaultModel,i=e.setDefaultModel,o=e.createModel,r=e.openInputDialog,a=e.language;return Object(_.jsxs)(y.a,{width:"100%",children:[Object(_.jsxs)(O.a,{container:!0,justifyContent:"space-between",children:[Object(_.jsx)(d.a,{variant:"h3",children:T("models",a)}),Object(_.jsx)(y.a,{sx:{minWidth:120},children:Object(_.jsxs)(w.a,{variant:"standard",fullWidth:!0,children:[Object(_.jsx)(N.a,{id:"select-default-model-label",children:T("defaultModel",a)}),Object(_.jsx)(S.a,{labelId:"select-default-model-label",value:t,autoWidth:!0,label:"Default Model",onChange:function(e){i(e.target.value)},children:n.map((function(e,n){return Object(_.jsx)(D.a,{value:e.id,children:e.id},n)}))})]})})]}),Object(_.jsxs)(O.a,{container:!0,gap:2,marginTop:2,direction:"column",justifyContent:"center",alignItems:"center",children:[n.map((function(e,n){return Object(_.jsx)(gr,{model:e,isSelected:e.id===t},n)})),Object(_.jsx)(y.a,{children:Object(_.jsx)(g.a,{title:"Add Model",children:Object(_.jsx)(j.a,{onClick:function(){var e=T("addModel",a),n={modelName:{name:T("modelName",a),value:""},modelDesc:{name:T("modelDescription",a),value:""}};r(e,n,(function(e){var n=e.modelName.value,t=e.modelDesc.value;o(n,t)}))},children:Object(_.jsx)(lr.a,{})})})})]})]})})),mr=t(505);var Or=function(e,n,t,i,o){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{id:"options-label-".concat(e),children:e}),Object(_.jsx)(S.a,{labelId:"options-label-".concat(e),multiple:!0,value:n,onChange:o,input:Object(_.jsx)(Gi.a,{label:e}),renderValue:function(e){return t.filter((function(n){return e.includes(n.id)})).map((function(e){return e.name})).join(", ")},children:t.map((function(e){return Object(_.jsxs)(D.a,{value:e.id,children:[Object(_.jsx)(dt.a,{checked:n.indexOf(e.id)>-1}),Object(_.jsx)(ki.a,{primary:"".concat(e.name," (").concat(i(e.id),")")})]},e.id)}))})]})},hr={remove:Co,setOptionRequirements:Fo,setOptionIncompatibilities:Wo,setOptionPrice:qo,changeOptionProperties:Bo,openConfirmDialog:un},vr=Object(P.b)((function(e,n){return{option:$i(e,n.optionId),optionPrice:eo(e,n.optionId),allOptions:Hi(e),optionReqirements:no(e,n.optionId),optionIncompatibilities:to(e,n.optionId),getBuilderGroupNameByOptionId:function(n){return ao(e,n)},language:E(e)}}),hr)((function(e){var n=e.optionId,t=e.group,o=e.option,r=e.optionPrice,a=e.allOptions,c=e.optionReqirements,u=e.optionIncompatibilities,s=e.getBuilderGroupNameByOptionId,l=e.language,p=e.remove,b=e.setOptionPrice,m=e.setOptionRequirements,h=e.setOptionIncompatibilities,v=e.changeOptionProperties,x=e.openConfirmDialog,I=o.name,C=o.description,y=Object(i.useState)(!1),N=Object(f.a)(y,2),S=N[0],D=N[1],P=function(e){var n=e.target.value;return"string"===typeof n?n.split(","):n};return Object(_.jsxs)(O.a,{container:!0,paddingTop:2,paddingLeft:2,paddingBottom:2,children:[Object(_.jsx)(O.a,{item:!0,width:"100%",children:Object(_.jsxs)(Bt.a,{display:"flex",justifyContent:"space-between",children:[Object(_.jsxs)(Bt.a,{children:[Object(_.jsxs)(d.a,{variant:"body1",children:[I,Object(_.jsx)(fr,{title:"".concat(T("editOptionName",l)),propertyName:T("optionName",l),oldValue:I,valueChangedCallback:function(e){v({optionId:n,newName:e})}})]}),Object(_.jsxs)(d.a,{variant:"body2",children:[C,Object(_.jsx)(fr,{title:"".concat(T("editOptionDescription",l)),propertyName:T("optionDescription",l),oldValue:C,valueChangedCallback:function(e){v({optionId:n,newDescription:e})}})]})]}),Object(_.jsx)(g.a,{title:"".concat(T("remove",l)," '").concat(I,"'"),children:Object(_.jsx)(j.a,{onClick:function(){x("".concat(T("removeOptionConfigrmation",l),": '").concat(I,"'?"),{},null,(function(){p(t.id,n)}))},children:Object(_.jsx)(zt.a,{})})})]})}),Object(_.jsxs)(O.a,{item:!0,container:!0,justifyContent:"center",children:[Object(_.jsx)(w.a,{sx:{m:1,width:300},children:Object(_.jsx)(ft.a,{fullWidth:!0,label:T("optionPrice",l),variant:"outlined",onChange:function(e){var t=Number(e.target.value);t<0?D(!0):(D(!1),b({optionId:n,price:t}))},error:S,defaultValue:r,type:"number",InputProps:{inputProps:{min:0},startAdornment:Object(_.jsx)(rr.a,{position:"start",children:"\u20ac"})}})}),Object(_.jsx)(w.a,{sx:{m:1,width:300},children:Or(T("requirements",l),c,a.filter((function(e){return e.id!==n})),s,(function(e){var t=P(e);m({optionId:n,requirements:t})}))}),Object(_.jsx)(w.a,{sx:{m:1,width:300},children:Or(T("incompatibilities",l),u,a.filter((function(e){return e.id!==n})),s,(function(e){var t=P(e);h({optionId:n,incompatibilities:t})}))})]})]})}));var xr=function(e,n,t){return Object(_.jsx)(w.a,{sx:{m:1,width:300},children:Object(_.jsx)(lt.a,{label:e,labelPlacement:"end",control:Object(_.jsx)(dt.a,{checked:n,onChange:function(e){t(e)}})})})},Ir=function(e,n,t,i,o){return Object(_.jsxs)(w.a,{sx:{m:1,width:300},children:[Object(_.jsx)(N.a,{id:"".concat(e,"-").concat(n),children:e}),Object(_.jsx)(S.a,{labelId:"".concat(e,"-").concat(n),multiple:!0,value:t,onChange:o,input:Object(_.jsx)(Gi.a,{label:e}),renderValue:function(e){return i.filter((function(n){return e.includes(n.id)})).map((function(e){return e.name})).join(", ")},children:i.map((function(e){return Object(_.jsxs)(D.a,{value:e.id,children:[Object(_.jsx)(dt.a,{checked:t.indexOf(e.id)>-1}),Object(_.jsx)(ki.a,{primary:e.name})]},e.id)}))})]})},Cr={createOption:function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(o,r){var a="".concat(n,"_").concat(e).replace(" ","_");return!fo(r(),a)&&(o(Eo({groupId:e,optionId:a,name:n,description:t,price:i})),!0)}},setGroupRequirements:Mo,setGroupIsRequired:Lo,setGroupIsReplacement:Ro,changeGroupProperties:Ao,deleteGroup:Io,openInputDialog:Ee,openConfirmDialog:un,openAlert:ve},yr=Object(P.b)((function(e,n){return{name:go(e,n.group.id),description:jo(e,n.group.id),allGroups:_i(e),groupRequirements:co(e,n.group.id),language:E(e)}}),Cr)((function(e){var n=e.group,t=e.name,i=e.description,o=e.sectionId,r=e.allGroups,a=e.groupRequirements,c=e.createOption,u=e.setGroupRequirements,s=e.setGroupIsRequired,l=e.setGroupIsReplacement,f=e.changeGroupProperties,p=e.deleteGroup,b=e.openInputDialog,m=e.openConfirmDialog,h=e.openAlert,v=e.language,x=n.id,I=n.optionIds,C=n.required,w=n.replacement;return Object(_.jsxs)(y.a,{marginBottom:1,padding:1,sx:{border:"1px dashed grey"},children:[Object(_.jsxs)(y.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",children:[Object(_.jsxs)(y.a,{children:[Object(_.jsxs)(d.a,{variant:"h3",children:[t,Object(_.jsx)(fr,{title:"".concat(T("editGroupName",v)),propertyName:T("groupName",v),oldValue:t,valueChangedCallback:function(e){f({groupId:x,newName:e})}})]}),Object(_.jsxs)(d.a,{variant:"subtitle1",children:[i,Object(_.jsx)(fr,{title:"".concat(T("editGroupDescription",v)),propertyName:T("groupDescription",v),oldValue:i,valueChangedCallback:function(e){f({groupId:x,newDescription:e})}})]})]}),Object(_.jsxs)(y.a,{children:[Object(_.jsx)(g.a,{title:T("addOption",v),children:Object(_.jsx)(j.a,{onClick:function(){var e={optionName:{name:T("optionName",v),value:""},optionDescription:{name:T("optionDescription",v),value:""}};b(T("newOption",v),e,(function(e){c(x,e.optionName.value,e.optionDescription.value)||h("Option already exists!",be)}))},children:Object(_.jsx)(lr.a,{})})}),Object(_.jsx)(g.a,{title:"".concat(T("remove",v)," '").concat(t,"'"),children:Object(_.jsx)(j.a,{onClick:function(){m("".concat(T("removeGroupConfirmation",v),": ").concat(t,"?"),{},null,(function(){p(x,o)}))},children:Object(_.jsx)(zt.a,{})})})]})]}),Object(_.jsxs)(O.a,{item:!0,container:!0,justifyContent:"center",children:[Object(_.jsx)(O.a,{item:!0,container:!0,justifyContent:"center",xs:12,xl:6,children:Ir(T("requirements",v),t,a,r.filter((function(e){return e.id!==x})),(function(e){var n=e.target.value,t="string"===typeof n?n.split(","):n;u({groupId:x,requirements:t})}))}),Object(_.jsx)(O.a,{item:!0,container:!0,justifyContent:"center",xs:12,xl:3,children:xr(T("required",v),C,(function(e){s({groupId:x,required:!C})}))}),Object(_.jsx)(O.a,{item:!0,container:!0,justifyContent:"center",xs:12,xl:3,children:xr(T("multiselect",v),!w,(function(e){l({groupId:x,replacement:!w})}))})]}),Object(_.jsx)(y.a,{children:I.map((function(e){return Object(_.jsxs)("div",{children:[Object(_.jsx)(mr.a,{variant:"middle"}),Object(_.jsx)(vr,{group:n,optionId:e},e)]},e)}))})]})})),wr=["children","value","index"];function Nr(e){var n=e.children,t=e.value,i=e.index,o=Object(Et.a)(e,wr);return Object(_.jsx)("div",Object(st.a)(Object(st.a)({role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},o),{},{children:t===i&&Object(_.jsx)(Bt.a,{sx:{p:3},children:n})}))}function Sr(e){var n=e.children,t=e.title;return Object(_.jsx)(g.a,{title:t,children:n})}var Dr={openInputDialog:Ee,openConfirmDialog:un,createSection:function(e){return function(n,t){return!so(t(),e)&&(n(Do(e)),!0)}},changeSectionProperties:Po,deleteSection:function(e){return function(n,t){var i=io(t(),e);if(i){var o=function(e){return e.optionGroupIds||[]}(i);o.forEach((function(e){n(Io(e))})),n(Go(e))}else console.log("Could not delete section -> no section matches the id: "+e)}},createGroup:function(e,n,t,i,o){return function(r,a){var c=n.replace(" ","_");return!lo(a(),c)&&(r(ko({sectionId:e,groupId:c,name:n,description:t,isRequired:i,isReplacementGroup:o})),!0)}},openAlert:ve},Pr=Object(P.b)((function(e){return{sections:Yi(e),getOptionGroupsInSection:function(n){return oo(e,n)},optionGroups:Fi(e),language:E(e)}}),Dr)((function(e){var n=e.sections,t=e.getOptionGroupsInSection,o=e.optionGroups,r=e.openInputDialog,a=e.openConfirmDialog,c=e.createSection,u=e.createGroup,s=e.changeSectionProperties,l=e.deleteSection,g=e.openAlert,b=e.language,m=Object(i.useState)(0),O=Object(f.a)(m,2),h=O[0],v=O[1],x=function(e,n){return Object(_.jsxs)(Bt.a,{children:[Object(_.jsx)(p.a,{onClick:function(){return function(e){var n={groupName:{name:T("groupName",b),value:""},groupDescription:{name:T("groupDescription",b),value:""},groupIsRequired:{name:T("required",b),value:!1,isCheckBox:!0},groupIsMultiselect:{name:T("multiselect",b),value:!0,isCheckBox:!0}};r(T("newGroup",b),n,(function(n){var t=!n.groupIsMultiselect.value;u(e,n.groupName.value,n.groupDescription.value,n.groupIsRequired.value,t)||g("Group already exists!",be)}))}(e)},children:T("addOptionGroup",b)}),Object(_.jsx)(fr,{title:"".concat(T("editSectionName",b)),propertyName:T("sectionName",b),oldValue:n,valueChangedCallback:function(n){s({sectionId:e,newName:n})},textButton:!0}),Object(_.jsx)(p.a,{onClick:function(){return function(e,n){a("".concat(T("removeSectionConfirmation",b),": ").concat(n,"?"),{},null,(function(){l(e),v(0)}))}(e,n)},children:T("removeSection",b)})]})};return Object(_.jsxs)(Bt.a,{sx:{width:"100%"},children:[Object(_.jsx)(d.a,{variant:"h3",children:T("options",b)}),Object(_.jsx)(Bt.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(_.jsxs)(qt.a,{value:h,scrollButtons:"auto",allowScrollButtonsMobile:!0,variant:"scrollable",onChange:function(e,n){v(n)},"aria-label":"sectiontabs",children:[n.map((function(e,n){return Object(_.jsx)(Ft.a,Object(st.a)({label:e.name,wrapped:!0},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(n)),e.id)})),Object(_.jsx)(Sr,{title:T("addSection",b),children:Object(_.jsx)(j.a,{onClick:function(){return function(){var e={sectionName:{name:T("sectionName",b),value:""}};r(T("newSection",b),e,(function(e){c(e.sectionName.value)||g("Section already exists!",be)}))}()},children:Object(_.jsx)(lr.a,{})})})]})}),n.map((function(e,n){return Object(_.jsx)(Nr,{value:h,index:n,children:Object(_.jsxs)(ji.a,{minHeight:400,mb:10,children:[x(e.id,e.name),o.filter((function(n){return t(e.id).includes(n.id)})).map((function(n,t){return Object(_.jsx)(yr,{group:n,sectionId:e.id},n.id)}))]})},e.id)}))]})}));var Gr={openAlert:ve,openConfirmDialog:un,changeInputLanguage:Xo,saveBuilderToStorage:function(){return function(e,n){aa(Mi(n()),"builder")}},finish:function(){return function(){var e=Object(ce.a)(ae.a.mark((function e(n,t){var i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(er()),i=Mi(t()),Jt(i).then((function(e){n(nr(e))})).catch((function(e){n(tr(e))}));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},reset:Qo,loadingHandled:ir},kr=Object(P.b)((function(e){return{isAdmin:Q(e),status:Li(e),error:Ri(e),inputLanguage:Ti(e),language:E(e)}}),Gr)((function(e){var n=e.isAdmin,t=e.status,o=e.error,r=e.inputLanguage,a=e.openAlert,c=e.openConfirmDialog,s=e.changeInputLanguage,l=e.saveBuilderToStorage,f=e.finish,p=e.reset,b=e.loadingHandled,m=e.language,h=Object(u.f)();return Object(i.useEffect)((function(){"succeeded"===t&&(b(),a(T("successConfigurationCreated",m),me),h("/"))}),[t,h,b,a]),Object(i.useEffect)((function(){o&&(b(),console.log("error:",o),a("Error: ".concat(o),be))}),[o,b,a]),Object(i.useEffect)((function(){n||h("/")}),[n,h]),Object(i.useEffect)((function(){var e=setInterval((function(){console.log("Saving Builder..."),l()}),1e4);return function(){clearInterval(e)}}),[l]),Object(_.jsx)("div",{children:Object(_.jsxs)(O.a,{container:!0,justifyContent:"flex-end",children:[Object(_.jsx)(O.a,{item:!0,sx:{flexGrow:1},children:Object(_.jsx)(d.a,{variant:"h2",children:T("createNewConfiguration",m)})}),Object(_.jsxs)(O.a,{item:!0,display:"flex",alignItems:"center",sx:{paddingTop:2,justifySelf:"flex-end"},children:[Object(_.jsxs)(w.a,{sx:{width:150},children:[Object(_.jsx)(N.a,{id:"select-input-lang-label",children:"Input Language"}),Object(_.jsx)(S.a,{labelId:"select-input-lang-label",value:r,autoWidth:!0,onChange:function(e){var n=e.target.value;s(n)},input:Object(_.jsx)(Gi.a,{label:"Input Language"}),children:Object.keys(M).map((function(e,n){return Object(_.jsx)(D.a,{sx:{width:150},value:M[e],children:Object(_.jsx)(ki.a,{primary:e})},n)}))})]}),Object(_.jsx)(g.a,{title:T("finishBuild",m),children:Object(_.jsx)(j.a,{variant:"contained",onClick:function(){c(T("createConfiguration",m),{},null,(function(){f()}))},children:Object(_.jsx)(Pi.a,{})})}),Object(_.jsx)(g.a,{title:T("resetBuild",m),children:Object(_.jsx)(j.a,{variant:"contained",onClick:function(){c(T("resetBuildConfirmation",m),{},null,(function(){p()}))},children:Object(_.jsx)(zt.a,{})})})]}),Object(_.jsx)(O.a,{item:!0,container:!0}),Object(_.jsxs)(O.a,{container:!0,direction:"column",gap:2,children:[Object(_.jsx)(cr,{}),Object(_.jsx)(sr,{}),Object(_.jsx)(br,{}),Object(_.jsx)(Pr,{})]})]})})})),Ar=t(510),Mr=t(511),Lr=t(253),Rr=t(507),Tr=t(514);var Er=Object(P.b)((function(e,n){var t=zn(e,n.optionId);return{name:t.name,description:t.description}}),{})((function(e){var n=e.name,t=e.description;return Object(_.jsx)(ki.a,{primary:n,secondary:t})}));var Br=Object(P.b)((function(e,n){return{allOptions:Wn(e,n.sectionId)}}),{})((function(e){var n=e.allOptions,t=e.selectedOptions;return t&&n?Object(_.jsx)(_.Fragment,{children:n.filter((function(e){return t.includes(e)})).map((function(e){return Object(_.jsx)(gi.a,{sx:{paddingBottom:0,paddingTop:0},children:Object(_.jsx)(Er,{optionId:e})},e)}))}):(console.log(t),Object(_.jsx)(_.Fragment,{}))}));var qr={selectModel:Xt},Fr=Object(P.b)((function(e){return{selectedOptions:En(e),sections:Tn(e)}}),qr)((function(e){var n=e.model,t=e.isSelected,o=void 0!==t&&t,r=e.disabled,a=void 0!==r&&r,c=e.selectedOptions,u=e.selectModel,s=e.sections,l=void 0===s?[]:s;n||o||(l=[]);var p=n?Bn(n):"Custom",g=n?function(e){return e.description||""}(n):"",j=n?qn(n):o?c:[],b=Object(i.useState)(!1),m=Object(f.a)(b,2),O=m[0],h=m[1],v=o?"2px solid grey":O?"1px solid grey":"1px dashed grey";function x(e){h(e)}return Object(_.jsx)(Tr.a,{sx:{width:"100%",height:"100%"},onMouseLeave:function(){return x(!1)},onMouseOver:function(){return x(!0)},onClick:function(){a||u(p)},children:Object(_.jsxs)(Bt.a,{padding:2,sx:{width:"100%",border:v},children:[Object(_.jsxs)(Bt.a,{height:"80px",children:[Object(_.jsx)(d.a,{variant:"h4",children:p}),Object(_.jsx)(d.a,{variant:"body1",children:g})]}),Object(_.jsx)(bi.a,{dense:!0,sx:{position:"relative",overflow:"auto",maxHeight:300,"& ul":{padding:0}},subheader:Object(_.jsx)("li",{}),children:l.map((function(e){return Object(_.jsx)("li",{children:Object(_.jsxs)("ul",{children:[Object(_.jsx)(mi.a,{children:e.name}),Object(_.jsx)(Br,{sectionId:e.id,selectedOptions:j})]})},e.id)}))})]})})}));var Wr=Object(P.b)((function(e){return{models:Gn(e),selectedModel:Pn(e)}}),{})((function(e){var n=e.models,t=e.selectedModel,i=Object(Rr.a)((function(e){return e.breakpoints.up("sm")}));return Object(_.jsxs)(y.a,{marginBottom:4,children:[Object(_.jsx)(d.a,{variant:"h3",children:"Models"}),i?Object(_.jsxs)(O.a,{container:!0,spacing:2,alignItems:"flex-start",children:[n.map((function(e,n){return Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(_.jsx)(Fr,{model:e,isSelected:e.name===t})},n)})),Object(_.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(_.jsx)(Fr,{model:null,isSelected:!t,disabled:!0})})]}):Object(_.jsx)(y.a,{sx:{overflowX:"scroll"},children:Object(_.jsxs)(ji.a,{direction:{xs:"row",md:"column"},justifyContent:"space-around",alignItems:"center",width:"".concat(90*(n.length+1),"vw"),children:[n.map((function(e,n){return Object(_.jsx)(y.a,{width:"80vw",children:Object(_.jsx)(Fr,{model:e,isSelected:e.name===t})},n)})),Object(_.jsx)(y.a,{width:"80vw",children:Object(_.jsx)(Fr,{model:null,isSelected:!t,disabled:!0})})]})})]})})),zr=t(508);t(435);var Vr={clickedOption:function(e){return function(n,t){Un(t(),e)?n(ti(e)):n(ni(e))}}},Ur=Object(P.b)((function(e,n){var t=Zn(e,n.optionId),i=!0,o="",r=[];return t&&(i=!1,o=t[0],r=t[1].map((function(n){return Vn(e,n)}))),{option:zn(e,n.optionId),selected:Un(e,n.optionId),price:et(e,n.optionId),selectable:i,disabledReason:o,problematicOptions:r,language:E(e)}}),Vr)((function(e){var n=e.optionId,t=e.clickedOption,i=e.option,o=e.selected,r=e.price,a=e.selectable,c=e.disabledReason,u=e.problematicOptions,s=e.language,l=!a;return Object(_.jsx)(g.a,{title:l?"".concat(T(c,s),": ").concat(u.join(", ")):"",placement:"top",TransitionComponent:zr.a,arrow:!0,enterTouchDelay:200,children:Object(_.jsx)(Bt.a,{children:Object(_.jsx)(p.a,{style:{width:"100%",height:"100%"},variant:o?"contained":"outlined",disabled:l,onClick:function(){t(n)},children:Object(_.jsxs)(Bt.a,{className:"Option",children:[Object(_.jsx)(d.a,{variant:"h4",children:i.name}),Object(_.jsx)(d.a,{variant:"body1",children:i.description}),r?Object(_.jsxs)(d.a,{variant:"body2",children:[T("price",s),": ",r,"\u20ac"]}):Object(_.jsx)(_.Fragment,{})]})})})})})),Kr=t(509);function Jr(e){var n=e.errorMessage;return Object(_.jsx)(g.a,{title:n,placement:"top",arrow:!0,enterTouchDelay:200,children:Object(_.jsx)(Kr.a,{})})}t(436);var Hr=Object(P.b)((function(e,n){var t=$n(e,n.group.id);return{isValid:null===t,groupError:t,language:E(e)}}),{})((function(e){var n=e.group,t=e.isValid,i=e.groupError,o=e.language,r=n.name,a=n.description,c=n.optionIds;return Object(_.jsxs)(y.a,{className:"OptionGroup",marginBottom:1,padding:1,children:[Object(_.jsxs)(y.a,{className:"OptionGroupTitle",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(_.jsx)(d.a,{variant:"h3",children:r}),t?void 0:Object(_.jsx)(Jr,{errorMessage:T(i,o)})]}),Object(_.jsx)(d.a,{variant:"subtitle2",children:a}),Object(_.jsx)(y.a,{className:"OptionContainer",children:c.map((function(e){return Object(_.jsx)(Ur,{optionId:e},e)}))})]})})),_r=["children","value","index"];function Yr(e){var n=e.children,t=e.value,i=e.index,o=Object(Et.a)(e,_r);return Object(_.jsx)("div",Object(st.a)(Object(st.a)({role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},o),{},{children:t===i&&Object(_.jsx)(Bt.a,{sx:{p:3},children:n})}))}function Zr(){var e=Object(P.c)((function(e){return e.configuration})).configuration,n=Object(i.useState)(0),t=Object(f.a)(n,2),o=t[0],r=t[1];return Object(_.jsxs)(Bt.a,{sx:{width:"100%"},children:[Object(_.jsx)(Bt.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(_.jsx)(qt.a,{value:o,scrollButtons:"auto",allowScrollButtonsMobile:!0,variant:"scrollable",onChange:function(e,n){r(n)},"aria-label":"sectiontabs",children:e.optionSections.map((function(e,n){return Object(_.jsx)(Ft.a,Object(st.a)({label:e.name,wrapped:!0},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(n)),e.id)}))})}),e.optionSections.map((function(n,t){return Object(_.jsx)(Yr,{value:o,index:t,children:e.optionGroups.filter((function(e){return n.optionGroupIds.includes(e.id)})).map((function(e,n){return Object(_.jsx)(Hr,{group:e},e.id)}))},n.id)}))]})}t(437);var Xr={resetConfig:function(){return function(e,n){try{var t=Dn(n());e(Xt(t))}catch(i){console.log("Can not reset -> no configuration found")}}},editConfig:function(e){return function(){var n=Object(ce.a)(ae.a.mark((function n(t,i){var o;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o={configId:e,images:[],options:[],optionSections:[],optionGroups:[],rules:{},language:E(i()),languagePack:{}},t($o(o));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},openConfirm:un,openInputDialog:Ee,openLogInDialog:Ve,openAlert:ve},Qr=Object(P.b)((function(e){return{configurationName:kn(e),configurationDescription:An(e),configurationImages:Mn(e),configurationId:wn(e),selectedOptions:En(e),isAdmin:Q(e),price:nt(e),model:Pn(e),language:E(e),isLoggedIn:X(e)}}),Xr)((function(e){var n=e.isLoggedIn,t=e.configurationName,i=e.configurationDescription,o=e.configurationImages,r=e.configurationId,a=e.selectedOptions,c=e.isAdmin,s=e.price,l=e.model,f=e.isLoading,p=e.resetConfig,b=(e.editConfig,e.openConfirm),m=e.openInputDialog,h=e.openLogInDialog,v=e.openAlert,x=e.language,I=Object(u.f)();function C(){b(T("deleteConfigurationPrompt",x),{},null,(function(){var e;(e=r,new Promise((function(n,t){var i={};console.log(i),F.a.delete("".concat(W,"/configuration/").concat(e),i).then((function(e){n(e.data)})).catch((function(e){console.log(e),t("Api unreachable")}))}))).then((function(e){v(T("successConfigurationDeleted"),me)})).catch((function(e){v("".concat(e),be)})),I("/")}))}function y(){if(n){var e={configurationName:{name:T("configurationName",x),value:""}},t=T("saveConfiguration",x);m(t,e,(function(e){var n=e.configurationName.value;le(r,n,a).then((function(e){v("".concat(T("savedConfiguration",x),": ").concat(n,"!"),me),console.log(e)})).catch((function(e){v("Error: ".concat(e),be),console.log(e)}))}))}else h()}function w(){b(T("resetConfigurationPrompt",x),{},null,(function(){p()}))}function N(){n?b("",{},Object(_.jsx)(vi,{configurationId:r,selectedOptions:a}),(function(){!function(){var e={configurationName:{name:T("configurationName",x),value:""}},n=T("finishConfiguration",x);m(n,e,(function(e){var n=e.configurationName.value;(function(e,n,t,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return new Promise((function(r,a){var c={configurationName:n,options:t,price:i,model:o};console.log(c),F.a.post("".concat(W,"/products/").concat(e),c).then((function(e){r(e.data)})).catch((function(e){a("API not reachable")}))}))})(r,n,a,s,l).then((function(e){v("".concat(T("successOrderedConfiguration",x),"!"),me),console.log(e),I("/user/ordered")})).catch((function(e){v("Error: ".concat(e),be),console.log(e)}))}))}()})):h()}return Object(_.jsx)("div",{children:f?Object(_.jsx)(Lt,{}):Object(_.jsxs)("div",{children:[Object(_.jsxs)(O.a,{container:!0,justifyContent:"flex-end",children:[Object(_.jsxs)(Bt.a,{sx:{flexGrow:1},children:[Object(_.jsxs)(d.a,{variant:"h2",children:[T("configureYour",x)," ",t]}),Object(_.jsx)(d.a,{variant:"subtitle1",children:i})]}),Object(_.jsxs)(O.a,{item:!0,sx:{paddingTop:2,justifySelf:"flex-end"},children:[c?Object(_.jsx)(g.a,{title:T("deleteConfiguration",x),children:Object(_.jsx)(j.a,{variant:"contained",onClick:C,children:Object(_.jsx)(zt.a,{})})}):"",Object(_.jsx)(g.a,{title:T("saveConfiguration",x),children:Object(_.jsx)(j.a,{variant:"contained",onClick:y,children:Object(_.jsx)(Ar.a,{})})}),Object(_.jsx)(g.a,{title:T("resetConfiguration",x),children:Object(_.jsx)(j.a,{variant:"contained",onClick:w,children:Object(_.jsx)(Mr.a,{})})}),Object(_.jsx)(g.a,{title:T("finishConfiguration",x),children:Object(_.jsx)(j.a,{variant:"contained",onClick:N,children:Object(_.jsx)(Pi.a,{})})})]})]}),o.length>0?Object(_.jsx)(Bt.a,{mb:4,children:Object(_.jsx)(Lr.Slide,{easing:"ease",children:o.map((function(e,n){return Object(_.jsx)("div",{className:"each-slide",children:Object(_.jsx)("div",{style:{height:"60vw",maxHeight:"600px",backgroundImage:"url(".concat(ra(e),")"),backgroundSize:"cover",backgroundPosition:"center"}})},n)}))})}):"",Object(_.jsx)(Wr,{}),Object(_.jsx)(O.a,{container:!0,children:Object(_.jsx)(Zr,{})})]})})}));var $r={fetchConfiguration:_t},ea=Object(P.b)((function(e){return{status:e.configuration.status,error:e.configuration.error,language:E(e)}}),$r)((function(e){var n=e.fetchConfiguration,t=e.status,o=e.error,r=e.language,a=Object(u.g)().id;function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(_.jsx)("div",{children:Object(_.jsx)(Qr,{isLoading:e})})}return Object(i.useEffect)((function(){a&&n(a)}),[n,a]),Object(_.jsx)("div",{children:function(){switch(t){case"loading":default:return c(!0);case"succeeded":return c();case"failed":return e=o,Object(_.jsxs)("div",{children:[Object(_.jsx)(d.a,{variant:"h2",children:T("failedToLoadConfiguration",r)}),Object(_.jsx)(d.a,{vairant:"body1",children:T(e,r)})]})}var e}()})})),na=t(529),ta=t(167),ia=Object(na.a)(Object(ta.a)());ia.palette=Object(st.a)({},ia.palette),ia.typography=Object(st.a)({},ia.typography);var oa=ia;function ra(e){var n="",i="".concat(W,"/images");try{n="".concat(i,"/").concat(e.replace("./",""))}catch(o){console.log("image '".concat(e,"' no found!")),n=t(438).default}finally{return n}}function aa(e,n){try{e=JSON.stringify(e),localStorage.setItem(n,e)}catch(t){console.log("Can not save the to local storage!"),console.log(t)}}function ca(e){var n=null;try{n=JSON.parse(localStorage.getItem(e))}catch(t){console.log("Can not load from local storage!"),console.log(t)}return n}var ua=function(){return Object(_.jsx)(s.a,{theme:oa,children:Object(_.jsx)(l.a,{sx:{padding:0},maxWidth:"xl",className:"App",children:Object(_.jsxs)(c.a,{children:[Object(_.jsx)(Ye,{}),Object(_.jsx)(ct,{}),Object(_.jsx)(gt,{}),Object(_.jsx)(vt,{}),Object(_.jsxs)(u.c,{children:[Object(_.jsx)(u.a,{exact:!0,path:"/",element:Object(_.jsx)(Tt,{})}),Object(_.jsx)(u.a,{exact:!0,path:"/user/:tab",element:Object(_.jsx)(Di,{})}),Object(_.jsx)(u.a,{exact:!0,path:"/user",element:Object(_.jsx)(Di,{})}),Object(_.jsx)(u.a,{exact:!0,path:"/configurator/:id",element:Object(_.jsx)(ea,{})}),Object(_.jsx)(u.a,{exact:!0,path:"/create",element:Object(_.jsx)(kr,{})}),Object(_.jsx)(u.a,{path:"*",element:Object(_.jsx)(d.a,{variant:"h2",children:"Not Found!"})})]})]})})})},sa=Object(B.a)({reducer:{product:Mt,configuration:pi,language:H,confirmation:fn,user:ke,inputDialog:ze,alert:ye,builder:or}}),la=localStorage.jwtToken;la&&(z(la),sa.dispatch(Se(se.a.decode(la))));var da=localStorage.language;da&&(console.log("storage lang:",da),sa.dispatch(K(da))),a.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(P.a,{store:sa,children:Object(_.jsx)(ua,{})})}),document.getElementById("root"))}},[[439,1,2]]]);
//# sourceMappingURL=main.eb49f6d0.chunk.js.map